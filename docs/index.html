<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>OzCoViz</title>

<meta property="og:title" content="OzCoViz" />

<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

<link rel="icon" href="data:image/x-icon;" type="image/x-icon">


<script type="text/javascript">
window.FlexDashboardComponents = [];
</script>

<script id="flexdashboard-navbar" type="application/json">
[{"icon":"fa-share-alt","items":[{"title":"Twitter","icon":"fa-twitter"},{"title":"Facebook","icon":"fa-facebook"},{"title":"Google+","icon":"fa-google-plus"},{"title":"LinkedIn","icon":"fa-linkedin"},{"title":"Pinterest","icon":"fa-pinterest"}]}]
</script>
<script src="index_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="index_files/bootstrap-3.3.5/css/lumen.min.css" rel="stylesheet" />
<script src="index_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="index_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="index_files/stickytableheaders-0.1.19/jquery.stickytableheaders.min.js"></script>
<link href="index_files/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="index_files/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link href="index_files/datalegreya-1.0/datalegreya.css" rel="stylesheet" />
<script src="index_files/sly-1.6.1/sly.min.js"></script>
<style type="text/css">

/*
 Dashboard CSS from Keen IO Dashboards
 (https://github.com/keen/dashboards)
*/

body {
  background: #f2f2f2;
  padding: 60px 0 0 8px; /* padding-top overridden by theme */
}

body hr {
  border-color: #d7d7d7;
  margin: 10px 0;
}

.navbar-inverse .navbar-nav > li > a,
.navbar .navbar-brand {
  text-decoration: none;
}

.navbar-logo {
  margin-top: 1px;
}

.navbar-logo img {
  margin-right: 12px;
}

.navbar-author {
  margin-left: 10px;
  font-size: 15px;
}

.navbar .dropdown-menu .fa {
  min-width: 20px;
}

.navbar .dropdown-menu {
  min-width: 150px;
  max-height: 500px;
  overflow: auto;
}

.chart-wrapper,
.nav-tabs-custom,
.sbframe-commentary
{
  background: #fff;
  border: 1px solid #e2e2e2;
  border-radius: 3px;
  margin-bottom: 8px;
  margin-right: 8px;
}

.chart-title {
  border-bottom: 1px solid #d7d7d7;
  color: #666;
  font-size: 14px;
  font-weight: 300;
  padding: 7px 10px 4px;
}

.chart-wrapper .chart-title:empty {
  display: none;
}

.chart-wrapper .chart-stage {
  overflow: hidden;
  padding: 5px 10px;
  position: relative;
}

.chart-wrapper .chart-notes {
  background: #fbfbfb;
  border-top: 1px solid #e2e2e2;
  color: #808080;
  font-size: 12px;
  padding: 8px 10px 5px;
}

/*
 CSS for handling flexbox layout
*/

#dashboard-container {
  visibility: hidden;
}

.tab-content>.dashboard-page-wrapper.active {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.dashboard-page-wrapper {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.dashboard-row-orientation {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.dashboard-row {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
      -ms-flex-direction: row;
          flex-direction: row;
}

.dashboard-row-flex {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
}

.dashboard-column-orientation {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
  -webkit-flex-direction: row;
      -ms-flex-direction: row;
          flex-direction: row;
}

.dashboard-column {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.chart-wrapper-flex {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -webkit-flex-direction: column;
      -ms-flex-direction: column;
          flex-direction: column;
}

.chart-stage-flex {
  -webkit-box-flex: 1;
  -webkit-flex: 1;
      -ms-flex: 1;
          flex: 1;
  position: relative;
}

.chart-shim {
  position: absolute;
  left: 8px; top: 8px; right: 8px; bottom: 8px;
}

.no-padding .chart-shim {
  left: 0; top: 0; right: 0; bottom: 0;
}

.flowing-content-shim {
  overflow: auto;
  left: 0; top: 0; right: 0; bottom: 0;
  padding-left: 8px;
  padding-right: 8px;
}

.flowing-content-container {
  padding-top: 8px;
  padding-bottom: 8px;
}

.chart-stage .table-bordered {
  border: none;
}

.chart-stage .table-bordered > tbody > tr > th,
.chart-stage .table-bordered > tfoot > tr > th,
.chart-stage .table-bordered > tbody > tr > td,
.chart-stage .table-bordered > tfoot > tr > td {
  border: none;
}

.chart-stage .table-bordered > tbody > tr > td {
  border-top: 1px solid #dddddd;
}

.chart-stage .table-bordered > thead > tr > th {
  border: none;
  border-bottom: 2px solid #dddddd;
}

.bootstrap-table table>thead {
  background-color: #fff;
}

.bootstrap-table table.data,
.bootstrap-table table.shiny-table {
  width: inherit !important;
}

.bootstrap-table table.data>tbody>tr>th,
.bootstrap-table table.shiny-table>tbody>tr>th {
  border-top: none;
  border-bottom: 2px solid #dddddd;
  padding: 5px;
}

.bootstrap-table .data td[align=right] {
  font-family: inherit;
}

.chart-wrapper form {
  padding-left: 5px;
  padding-right: 5px;
}

.shiny-input-container label {
  font-weight: normal;
}

.chart-stage .html-widget {
  width: 100% !important;
  height: 100% !important;
}

.chart-stage .html-widget-static-bound {
  width: 100% !important;
  height: 100% !important;
}

.chart-stage .shiny-bound-output {
  width: 100% !important;
  height: 100% !important;
}

/* Omit display of empty paragraphs */

.chart-shim>p:empty {
  display: none;
}

.chart-stage>p:empty {
  display: none;
}

/* Omit display of special knitr options div*/

.chart-stage .knitr-options {
  display: none;
}

/* Automatically resizing images */

.image-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: 0;
}

.image-container img {
  opacity: 0;
  overflow: hidden;
}

/* Value box */

.value-box {
  border-radius: 2px;
  position: relative;
  display: block;
  margin-right: 8px;
  margin-bottom: 8px;
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
}

.value-box > .inner {
  padding: 10px;
  padding-left: 20px;
  padding-right: 20px;
}

.value-box .value {
  font-size: 38px;
  font-weight: bold;
  margin: 0 0 3px 0;
  white-space: nowrap;
  padding: 0;
}

.value-box .caption {
  font-size: 15px;
}
.value-box .caption > small {
  display: block;
  font-size: 13px;
  margin-top: 5px;
}

.value-box .icon i {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 80px;
  color: rgba(0, 0, 0, 0.15);
}

.linked-value:hover {
  cursor: pointer;
}

.value-box.linked-value:hover {
  box-shadow: 0 2px 2px rgba(0, 0, 0, 0.3);
}

/* STORYBOARD */

.storyboard-nav button {
  background: transparent;
  border: 0;
  opacity: .3;
  outline: none;
  padding: 0;
}

.storyboard-nav button:hover,
.storyboard-nav button:hover {
  opacity: .5;
}

.storyboard-nav button:disabled,
.storyboard-nav button:disabled {
  opacity: .1;
}

.storyboard-nav .sbnext,
.storyboard-nav .sbprev {
  float: left;
  width: 2%;
  height: 120px;
  font-size: 50px;
}

.storyboard-nav .sbprev {
  text-align: left;
  width: 2%;
}

.storyboard-nav .sbnext {
  float: right;
  text-align: right;
  margin-right: 8px;
}

.storyboard-nav .sbframelist {
  margin: 0 auto;
  width: 94%;
  height: 120px;
  overflow: hidden;
  text-shadow: none;
  margin-bottom: 8px;
}

.storyboard-nav .sbframelist ul {
  list-style: none;
  margin: 0;
  padding: 0;
  height: 100%;
}

.storyboard-nav .sbframelist ul li {
  float: left;
  width: 270px;
  height: 100%;
  padding: 10px 10px 10px 10px;
  margin-right: 8px;
  background: #fff;
  border: 1px solid #e2e2e2;
  border-radius: 3px;
  color: #3a3c47;
  text-align: left;
  font-size: 14px;
  cursor: pointer;
}

.storyboard-nav .sbframelist ul li:last-child {
  margin-right: 0px;
}

.storyboard-nav .sbframelist ul li.active {
  color: #fff;
  background: #B8B8B8;
}

.sbframe-commentary {
  width: 300px;
  background: #fbfbfb;
  font-size: 14px;
}

.sbframe-commentary ul {
  padding-left: 22px;
}

.sbframe.active {
  display: flex;
}

.sbframe:not(.active) {
  display: none;
}

/* NAV TABS */

.nav-tabs-custom > .nav-tabs {
  margin: 0;
  border-bottom: 1px solid #d7d7d7;
  color: #666;
  font-size: 14px;
  font-weight: 300;
  border-top-right-radius: 3px;
  border-top-left-radius: 3px;
}
.nav-tabs-custom > .nav-tabs > li {
  border-top: 3px solid transparent;
  margin-bottom: -1px;
  margin-right: 5px;
}
.nav-tabs-custom > .nav-tabs > li > a,
.nav-tabs-custom > .nav-tabs > li > a:active {
  color: #666;
  font-weight: 300;
  font-size: 14px;
  border-radius: 0;
  padding: 3px 10px 5px;
  text-transform: none;
}

.nav-tabs-custom > .nav-tabs > li:not(.active) > a {
  border-bottom-color: transparent;
}

.nav-tabs-custom > .nav-tabs > li > a.text-muted {
  color: #999;
}
.nav-tabs-custom > .nav-tabs > li > a,
.nav-tabs-custom > .nav-tabs > li > a:hover {
  background: transparent;
  margin: 0;
}
.nav-tabs-custom > .nav-tabs > li > a:hover {
  color: #999;
}
.nav-tabs-custom > .nav-tabs > li:not(.active) > a:hover,
.nav-tabs-custom > .nav-tabs > li:not(.active) > a:focus,
.nav-tabs-custom > .nav-tabs > li:not(.active) > a:active {
  border-color: transparent;
}
.nav-tabs-custom > .nav-tabs > li.active {
  border-top-color: #3c8dbc;
}
.nav-tabs-custom > .nav-tabs > li.active > a,
.nav-tabs-custom > .nav-tabs > li.active:hover > a {
  background-color: #fff;
  color: #666;
}
.nav-tabs-custom > .nav-tabs > li.active > a {
  border-top-color: transparent;
  border-left-color: #d7d7d7;
  border-right-color: #d7d7d7;
}
.nav-tabs-custom > .nav-tabs > li:first-of-type {
  margin-left: 0;
}
.nav-tabs-custom > .nav-tabs > li:first-of-type.active > a {
  border-left-color: transparent;
}
.nav-tabs-custom > .nav-tabs.pull-right {
  float: none !important;
}
.nav-tabs-custom > .nav-tabs.pull-right > li {
  float: right;
}
.nav-tabs-custom > .nav-tabs.pull-right > li:first-of-type {
  margin-right: 0;
}
.nav-tabs-custom > .nav-tabs.pull-right > li:first-of-type > a {
  border-left-width: 1px;
}
.nav-tabs-custom > .nav-tabs.pull-right > li:first-of-type.active > a {
  border-left-color: #d7d7d7;
  border-right-color: transparent;
}
.nav-tabs-custom > .nav-tabs > li.header {
  line-height: 35px;
  padding: 0 10px;
  font-size: 20px;
  color: #666;
}
.nav-tabs-custom > .nav-tabs > li.header > .fa,
.nav-tabs-custom > .nav-tabs > li.header > .glyphicon,
.nav-tabs-custom > .nav-tabs > li.header > .ion {
  margin-right: 5px;
}
.nav-tabs-custom > .tab-content {
  background: #fff;
  padding: 0;
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.nav-tabs-custom > .tab-content > .chart-wrapper {
  background: #fff;
  border: none;
  margin: 0;
}


.nav-tabs-custom > .tab-content > .active {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}

.nav-tabs-custom .dropdown.open > a:active,
.nav-tabs-custom .dropdown.open > a:focus {
  background: transparent;
  color: #999;
}


@media (max-width: 767px) {
  .value-box {
    text-align: center;
    margin-right: 8px;
  }
  .value-box .icon {
    display: none;
  }
}

/* Fixed position sidebar */

.section.sidebar {
  position: fixed;
  top: 51px; /* overridden by theme */
  left: 0;
  bottom: 0;
  border-right: 1px solid #e2e2e2;
  background-color: white; /* overridden by theme */
  padding-left: 10px;
  padding-right: 10px;
  visibility: hidden;
  overflow: auto;
}

.section.sidebar form p:first-child {
  margin-top: 10px;
}

/* Embedded source code */

#flexdashboard-source-code {
  display: none;
}

.featherlight-content #flexdashboard-source-code {
  display: inline-block;
}

.featherlight-content {
  width: 80%;
  max-width: 800px;
  padding: 0 !important;
  border-bottom: none !important;
}

.featherlight:last-of-type {
  background: rgba(0, 0, 0, 0.7);
}

.featherlight-inner {
  width: 100%;
}

.featherlight-content pre {
  margin: 0;
  border: 0;
  background: #fff;
  font-size: 12px;
}

.unselectable {
  -ms-user-select: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: -moz-none;
  -o-user-select: none;
  user-select: none;
}

#flexdashboard-source-code code {
  -ms-user-select: text;
  -webkit-user-select: text;
  -khtml-user-select: text;
  -moz-user-select: text;
  -o-user-select: text;
  user-select: text;
}

/* DataTables Tweaks */

.dataTables_filter input[type="search"] {
  -webkit-appearance: searchfield;
  outline: none;
}

.dataTables_wrapper.no-footer
.dataTables_info {
  padding-top: 0;
}


table.dataTable thead th {
  border-bottom: 1px solid #d7d7d7;
}

.dataTables_wrapper.no-footer .dataTables_scrollBody {
  border-bottom: 1px solid #d7d7d7;
}

/* Mobile phone only CSS */

.desktop-layout div.section.mobile {
  display: none;
}

.mobile-layout div.section.no-mobile {
  display: none;
}

.mobile-figure {
  display: none;
}



body {
  padding-top: 63px;
}

.section.sidebar {
  top: 54px;
  background-color: rgba(255, 255, 255, 0.9);
}

.value-box {
  color: #f9f9f9;
}

.bg-primary {
  background-color: rgba(21, 140, 186, 0.7);
}

.storyboard-nav .sbframelist ul li.active {
  background-color: rgba(21, 140, 186, 0.7);
}

.nav-tabs > li > a:hover,
.nav-tabs > li > a:focus,
.nav-tabs > li.active > a,
.nav-tabs > li.active > a:hover,
.nav-tabs > li.active > a:focus,
.nav-tabs .open > a,
.nav-tabs .open > a:hover,
.nav-tabs .open > a:focus {
  padding-bottom: 5px;
  margin-top: 0;
}

.nav-tabs-custom > .nav-tabs > li > a {
  border-top-color: white;
  border-right-color: white;
  border-left-color: white;
}

.nav-tabs-custom > .nav-tabs > li.active {
  border-top-color: rgba(21, 140, 186, 0.7);
}

.bg-info {
  background-color: rgba(117, 202, 235, 0.9);
}

.bg-warning {
  background-color: rgba(255, 133, 27, 0.7);
}

.bg-success {
  background-color: rgba(40, 182, 44, 0.7);
}

.bg-danger {
  background-color: rgba(255, 65, 54, 0.7);
}

@media only screen and (min-width: 768px) {
html, body {
  height: 100%;
}

#dashboard-container {
  height: 100%;
}
}
</style>



</head>

<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
<div class="container-fluid">
<div class="navbar-header">

<button id="navbar-button" type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>

<span class="navbar-logo pull-left">
  
</span>
<span class="navbar-brand">
  OzCoViz
  <span class="navbar-author">
      last updated 08:34, 28 May 2020
      </span>
</span>

</div>
<div id="navbar" class="navbar-collapse collapse">
<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right">
</ul>
</div><!--/.nav-collapse-->
</div><!--/.container-->
</div><!--/.navbar-->

<img class="mobile-figure" data-mobile-figure-id=fig1 src="index_files/figure-html/gg-cumulative-incidence-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig2 src="index_files/figure-html/gg-cumulative-incidence-since-cp-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig3 src="index_files/figure-html/gg-incidence-since-cp-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig4 src="index_files/figure-html/gg-incidence-since-cp-smoothed-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig5 src="index_files/figure-html/global-cases-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig6 src="index_files/figure-html/world-incidence-free-scales-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig7 src="index_files/figure-html/world-incidence-free-scales-log-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig8 src="index_files/figure-html/gg-effective-repro-all-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig9 src="index_files/figure-html/gg-effective-r-facet-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig10 src="index_files/figure-html/gg-effective-r-facet-ribbon-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig11 src="index_files/figure-html/this-is-australia-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig12 src="index_files/figure-html/this-is-japan-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig13 src="index_files/figure-html/this-is-south-krea-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig14 src="index_files/figure-html/this-is-china-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig15 src="index_files/figure-html/this-is-canada-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig16 src="index_files/figure-html/this-is-germany-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig17 src="index_files/figure-html/this-is-spain-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig18 src="index_files/figure-html/this-is-brazil-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig19 src="index_files/figure-html/this-is-italy-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig20 src="index_files/figure-html/this-is-russia-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig21 src="index_files/figure-html/this-is-singapore-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig22 src="index_files/figure-html/this-is-sweden-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig23 src="index_files/figure-html/this-is-taiwan-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig24 src="index_files/figure-html/this-is-uk-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig25 src="index_files/figure-html/this-is-usa-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig26 src="index_files/figure-html/nsw-local-os-sep-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig27 src="index_files/figure-html/nsw-local-os-sep-est-si-dist-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig28 src="index_files/figure-html/nsw-adj-local-acquire-separately-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig29 src="index_files/figure-html/nsw-adj-under-os-separately-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig30 src="index_files/figure-html/nsw-local-os-separately-paramtric-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig31 src="index_files/figure-html/nsw-local-os-sep-si-dist-data-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig32 src="index_files/figure-html/nsw-all-cases-locally-1.mb.png" />
<img class="mobile-figure" data-mobile-figure-id=fig33 src="index_files/figure-html/nsw-all-cases-locally-si-est-data-1.mb.png" />
<script type="text/javascript">


var FlexDashboard = (function () {

  // initialize options
  var _options = {};

  var FlexDashboard = function() {

    // default options
    _options = $.extend(_options, {
      theme: "cosmo",
      fillPage: false,
      orientation: 'columns',
      storyboard: false,
      defaultFigWidth: 576,
      defaultFigHeight: 461,
      defaultFigWidthMobile: 360,
      defaultFigHeightMobile: 461,
      isMobile: false,
      isPortrait: false
    });
  };

  function init(options) {

    // extend default options
    $.extend(true, _options, options);

    // add ids to sections that don't have them (pandoc won't assign ids
    // to e.g. sections with titles consisting of only chinese characters)
    var nextId = 1;
    $('.level1:not([id]),.level2:not([id]),.level3:not([id])').each(function() {
      $(this).attr('id', 'dashboard-' + nextId++);
    });

    // find navbar items
    var navbarItems = $('#flexdashboard-navbar');
    if (navbarItems.length)
      navbarItems = JSON.parse(navbarItems.html());
    addNavbarItems(navbarItems);

    // find the main dashboard container
    var dashboardContainer = $('#dashboard-container');

    // resolve mobile classes
    resolveMobileClasses(dashboardContainer);

    // one time global initialization for components
    componentsInit(dashboardContainer);

    // look for a global sidebar
    var globalSidebar = dashboardContainer.find(".section.level1.sidebar");
    if (globalSidebar.length > 0) {

      // global layout for fullscreen displays
      if (!isMobilePhone()) {

         // hoist it up to the top level
         globalSidebar.insertBefore(dashboardContainer);

         // lay it out (set width/positions)
         layoutSidebar(globalSidebar, dashboardContainer);

      // tuck sidebar into first page for mobile phones
      } else {

        // convert it into a level3 section
        globalSidebar.removeClass('sidebar');
        globalSidebar.removeClass('level1');
        globalSidebar.addClass('level3');
        var h1 = globalSidebar.children('h1');
        var h3 = $('<h3></h3>');
        h3.html(h1.html());
        h3.insertBefore(h1);
        h1.remove();

        // move it into the first page
        var page = dashboardContainer.find('.section.level1').first();
        if (page.length > 0)
          page.prepend(globalSidebar);
      }
    }

    // look for pages to layout
    var pages = $('div.section.level1');
    if (pages.length > 0) {

        // find the navbar and collapse on clicked
        var navbar = $('#navbar');
        navbar.on("click", "a[data-toggle!=dropdown]", null, function () {
           navbar.collapse('hide');
        });

        // envelop the dashboard container in a tab content div
        dashboardContainer.wrapInner('<div class="tab-content"></div>');

        pages.each(function(index) {

          // lay it out
          layoutDashboardPage($(this));

          // add it to the navbar
          addToNavbar($(this), index === 0);

        });

    } else {

      // remove the navbar and navbar button if we don't
      // have any navbuttons
      if (navbarItems.length === 0) {
        $('#navbar').remove();
        $('#navbar-button').remove();
      }

      // add the storyboard class if requested
      if (_options.storyboard)
        dashboardContainer.addClass('storyboard');

      // layout the entire page
      layoutDashboardPage(dashboardContainer);
    }

    // if we are in shiny we need to trigger a window resize event to
    // force correct layout of shiny-bound-output elements
    if (isShinyDoc())
      $(window).trigger('resize');

    // make main components visible
    $('.section.sidebar').css('visibility', 'visible');
    dashboardContainer.css('visibility', 'visible');

    // handle location hash
    handleLocationHash();

    // intialize prism highlighting
    initPrismHighlighting();

    // record mobile and orientation state then register a handler
    // to refresh if it changes
    _options.isMobile = isMobilePhone();
    _options.isPortrait = isPortrait();
    $(window).on('resize', function() {
      if (_options.isMobile !== isMobilePhone() ||
          _options.isPortrait !== isPortrait()) {
        window.location.reload();
      }
    });

    // trigger layoutcomplete event
    dashboardContainer.trigger('flexdashboard:layoutcomplete');
  }

  function resolveMobileClasses(dashboardContainer) {
     // add top level layout class
    dashboardContainer.addClass(isMobilePhone() ? 'mobile-layout' :
                                                  'desktop-layout');

    // look for .mobile sections and add .no-mobile to their peers
    var mobileSections = $('.section.mobile');
    mobileSections.each(function() {
       var id = $(this).attr('id');
       var nomobileId = id.replace(/-\d+$/, '');
       $('#' + nomobileId).addClass('no-mobile');
    });
  }

  function addNavbarItems(navbarItems) {

    var navbarLeft = $('ul.navbar-left');
    var navbarRight = $('ul.navbar-right');

    for (var i = 0; i<navbarItems.length; i++) {

      // get the item
      var item = navbarItems[i];

      // determine the container
      var container = null;
      if (item.align === "left")
        container = navbarLeft;
      else
        container = navbarRight;

      // navbar menu if we have multiple items
      if (item.items) {
        var menu = navbarMenu(null, item.icon, item.title, container);
        for (var j = 0; j<item.items.length; j++) {
          var subItem = item.items[j];
          var li = $('<li></li>');
          li.append(navbarLink(subItem.icon, subItem.title, subItem.href, subItem.target));
          menu.append(li);
        }
      } else {
        var li = $('<li></li>');
        li.append(navbarLink(item.icon, item.title, item.href, item.target));
        container.append(li);
      }
    }
  }

  // create or get a reference to an existing dropdown menu
  function navbarMenu(id, icon, title, container) {
    var existingMenu = [];
    if (id)
      existingMenu = container.children('#' + id);
    if (existingMenu.length > 0) {
      return existingMenu.children('ul');
    } else {
      var li = $('<li></li>');
      if (id)
        li.attr('id', id);
      li.addClass('dropdown');
      // auto add "Share" title on mobile if necessary
      if (!title && icon && (icon === "fa-share-alt") && isMobilePhone())
        title = "Share";
      if (title) {
        title = title + ' <span class="caret"></span>';
      }
      var a = navbarLink(icon, title, "#");
      a.addClass('dropdown-toggle');
      a.attr('data-toggle', 'dropdown');
      a.attr('role', 'button');
      a.attr('aria-expanded', 'false');
      li.append(a);
      var ul = $('<ul class="dropdown-menu"></ul>');
      ul.attr('role', 'menu');
      li.append(ul);
      container.append(li);
      return ul;
    }
  }

  function addToNavbar(page, active) {

    // capture the id and data-icon attribute (if any)
    var id = page.attr('id');
    var icon = page.attr('data-icon');
    var navmenu = page.attr('data-navmenu');

    // get hidden state (transfer this to navbar)
    var hidden = page.hasClass('hidden');
    page.removeClass('hidden');

    // sanitize the id for use with bootstrap tabs
    id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
    page.attr('id', id);

    // get the wrapper
    var wrapper = page.closest('.dashboard-page-wrapper');

    // move the id to the wrapper
    page.removeAttr('id');
    wrapper.attr('id', id);

    // add the tab-pane class to the wrapper
    wrapper.addClass('tab-pane');
    if (active)
      wrapper.addClass('active');

    // get a reference to the h1, discover it's id and title, then remove it
    var h1 = wrapper.find('h1').first();
    var title = h1.html();
    h1.remove();

    // create a navbar item
    var li = $('<li></li>');
    var a = navbarLink(icon, title, '#' + id);
    a.attr('data-toggle', 'tab');
    li.append(a);

    // add it to the navbar (or navbar menu if specified)
    var container = $('ul.navbar-left');
    if (navmenu) {
      var menuId = navmenu.replace(/\s+/g, '');
      var menu = navbarMenu(menuId, null, navmenu, container);
      menu.append(li);
    } else {
      container.append(li);
    }

    // hide it if requested
    if (hidden)
      li.addClass('hidden');
  }

  function navbarLink(icon, title, href, target) {

    var a = $('<a></a>');
    if (icon) {

      // get the name of the icon set and icon
      var dashPos = icon.indexOf("-");
      var iconSet = icon.substring(0, dashPos);
      var iconName = icon.substring(dashPos + 1);

      // create the icon
      var iconElement = $('<span class="' + iconSet + ' ' + icon + '"></span>');
      if (title)
        iconElement.css('margin-right', '7px');
      a.append(iconElement);
      // if href is null see if we can auto-generate based on icon (e.g. social)
      if (!href)
        maybeGenerateLinkFromIcon(iconName, a);
    }
    if (title)
      a.append(title);

    // add the href.
    if (href) {
      if (href === "source_embed") {
        a.attr('href', '#');
        a.attr('data-featherlight', "#flexdashboard-source-code");
        a.featherlight({
            beforeOpen: function(event){
              $('body').addClass('unselectable');
            },
            afterClose: function(event){
              $('body').removeClass('unselectable');
            }
        });
      } else {
        a.attr('href', href);
      }
    }

    // add the arget
    if (target)
      a.attr('target', target);

    return a;
  }

  // auto generate a link from an icon name (e.g. twitter) when possible
  function maybeGenerateLinkFromIcon(iconName, a) {

     var serviceLinks = {
      "twitter": "https://twitter.com/share?text=" + encodeURIComponent(document.title) + "&url="+encodeURIComponent(location.href),
      "facebook": "https://www.facebook.com/sharer/sharer.php?s=100&p[url]="+encodeURIComponent(location.href),
      "google-plus": "https://plus.google.com/share?url="+encodeURIComponent(location.href),
      "linkedin": "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(location.href) + "&title=" + encodeURIComponent(document.title),
      "pinterest": "https://pinterest.com/pin/create/link/?url="+encodeURIComponent(location.href) + "&description=" + encodeURIComponent(document.title)
    };

    var makeSocialLink = function(a, href) {
      a.attr('href', '#');
      a.on('click', function(e) {
        e.preventDefault();
        window.open(href);
      });
    };

    $.each(serviceLinks, function(key, value) {
      if (iconName.indexOf(key) !== -1)
        makeSocialLink(a, value);
    });
  }

  // layout a dashboard page
  function layoutDashboardPage(page) {

    // use a page wrapper so that free form content above the
    // dashboard appears at the top rather than the side (as it
    // would without the wrapper in a column orientation)
    var wrapper = $('<div class="dashboard-page-wrapper"></div>');
    page.wrap(wrapper);

    // if there are no level2 or level3 headers synthesize a level3
    // header to contain the (e.g. frame it, scroll container, etc.)
    var headers = page.find('h2,h3');
    if (headers.length === 0)
      page.wrapInner('<div class="section level3"></div>');

    // hoist up any content before level 2 or level 3 headers
    var children = page.children();
    children.each(function(index) {
      if ($(this).hasClass('level2') || $(this).hasClass('level3'))
        return false;
      $(this).insertBefore(page);
    });

    // determine orientation and fillPage behavior for distinct media
    var orientation, fillPage, storyboard;

    // media: mobile phone
    if (isMobilePhone()) {

      // if there is a sidebar we need to ensure it's content
      // is properly framed as an h3
      var sidebar = page.find('.section.sidebar');
      sidebar.removeClass('sidebar');
      sidebar.wrapInner('<div class="section level3"></div>');
      var h2 = sidebar.find('h2');
      var h3 = $('<h3></h3>');
      h3.html(h2.html());
      h3.insertBefore(h2);
      h2.remove();

      // wipeout h2 elements then enclose them in a single h2
      var level2 = page.find('div.section.level2');
      level2.each(function() {
        level2.children('h2').remove();
        level2.children().unwrap();
      });
      page.wrapInner('<div class="section level2"></div>');

      // substitute mobile images
      if (isPortrait()) {
        var mobileFigures = $('img.mobile-figure');
        mobileFigures.each(function() {
          // get the src (might be base64 encoded)
          var src = $(this).attr('src');

          // find it's peer
          var id = $(this).attr('data-mobile-figure-id');
          var img = $('img[data-figure-id=' + id + "]");
          img.attr('src', src)
             .attr('width', _options.defaultFigWidthMobile)
             .attr('height', _options.defaultFigHeightMobile);
        });
      }

      // hoist storyboard commentary into it's own section
      if (page.hasClass('storyboard')) {
        var commentaryHR = page.find('div.section.level3 hr');
        commentaryHR.each(function() {
          var commentary = $(this).nextAll().detach();
          var commentarySection = $('<div class="section level3"></div>');
          commentarySection.append(commentary);
          commentarySection.insertAfter($(this).closest('div.section.level3'));
          $(this).remove();
        });
      }

      // force a non full screen layout by columns
      orientation = _options.orientation = 'columns';
      fillPage = _options.fillPage = false;
      storyboard = _options.storyboard = false;

    // media: desktop
    } else {

      // determine orientation
      orientation = page.attr('data-orientation');
      if (orientation !== 'rows' && orientation != 'columns')
        orientation = _options.orientation;

      // determine storyboard mode
      storyboard = page.hasClass('storyboard');

      // fillPage based on options (force for storyboard)
      fillPage = _options.fillPage || storyboard;

      // handle sidebar
      var sidebar = page.find('.section.level2.sidebar');
      if (sidebar.length > 0)
        layoutSidebar(sidebar, page);
    }

    // give it and it's parent divs height: 100% if we are in fillPage mode
    if (fillPage) {
      page.addClass('vertical-layout-fill');
      page.css('height', '100%');
      page.parents('div').css('height', '100%');
    } else {
      page.addClass('vertical-layout-scroll');
    }

    // perform the layout
    if (storyboard)
      layoutPageAsStoryboard(page);
    else if (orientation === 'rows')
      layoutPageByRows(page, fillPage);
    else if (orientation === 'columns')
      layoutPageByColumns(page, fillPage);
  }

  function layoutSidebar(sidebar, content) {

    // get it out of the header hierarchy
    sidebar = sidebar.first();
    if (sidebar.hasClass('level1')) {
      sidebar.removeClass('level1');
      sidebar.children('h1').remove();
    } else if (sidebar.hasClass('level2')) {
      sidebar.removeClass('level2');
      sidebar.children('h2').remove();
    }

    // determine width
    var sidebarWidth = isTablet() ? 220 : 250;
    var dataWidth = parseInt(sidebar.attr('data-width'));
    if (dataWidth)
      sidebarWidth = dataWidth;

    // set the width and shift the page right to accomodate the sidebar
    sidebar.css('width', sidebarWidth + 'px');
    content.css('padding-left', sidebarWidth + 'px');

    // wrap it's contents in a form
    sidebar.wrapInner($('<form></form>'));
  }

  function layoutPageAsStoryboard(page) {

    // create storyboard navigation
    var nav = $('<div class="storyboard-nav"></div>');

    // add navigation buttons
    var prev = $('<button class="sbprev"><i class="fa fa-angle-left"></i></button>');
    nav.append(prev);
    var next= $('<button class="sbnext"><i class="fa fa-angle-right"></i></button>');
    nav.append(next);

    // add navigation frame
    var frameList = $('<div class="sbframelist"></div>');
    nav.append(frameList);
    var ul = $('<ul></ul>');
    frameList.append(ul);

     // find all the level3 sections (those are the storyboard frames)
    var frames = page.find('div.section.level3');
    frames.each(function() {

      // mark it
      $(this).addClass('sbframe');

      // divide it into chart content and (optional) commentary
      $(this).addClass('dashboard-column-orientation');

      // stuff the chart into it's own div w/ flex
      $(this).wrapInner('<div class="sbframe-component"></div>');
      setFlex($(this), 1);
      var frame = $(this).children('.sbframe-component');

      // extract the title from the h3
      var li = $('<li></li>');
      var h3 = frame.children('h3');
      li.html(h3.html());
      h3.remove();
      ul.append(li);

      // extract commentary
      var hr = frame.children('hr');
      if (hr.length) {
        var commentary = hr.nextAll().detach();
        hr.remove();
        var commentaryFrame = $('<div class="sbframe-commentary"></div>');
        commentaryFrame.addClass('flowing-content-shim');
        commentaryFrame.addClass('flowing-content-container');
        commentaryFrame.append(commentary);
        $(this).append(commentaryFrame);

        // look for a data-commentary-width attribute
        var commentaryWidth = $(this).attr('data-commentary-width');
        if (commentaryWidth)
          commentaryFrame.css('width', commentaryWidth + 'px');
      }

      // layout the chart (force flex)
      var result = layoutChart(frame, true);

      // ice the notes if there are none
      if (!result.notes)
        frame.find('.chart-notes').remove();

      // set flex on chart
      setFlex(frame, 1);
    });

    // create a div to hold all the frames
    var frameContent = $('<div class="sbframe-content"></div>');
    frameContent.addClass('dashboard-row-orientation');
    frameContent.append(frames.detach());

    // row orientation to stack nav and frame content
    page.addClass('dashboard-row-orientation');
    page.append(nav);
    page.append(frameContent);
    setFlex(frameContent, 1);

    // initialize sly
    var sly = new Sly(frameList, {
    		horizontal: true,
    		itemNav: 'basic',
    		smart: true,
    		activateOn: 'click',
    		startAt: 0,
    		scrollBy: 1,
    		activatePageOn: 'click',
    		speed: 200,
    		moveBy: 600,
    		dragHandle: true,
    		dynamicHandle: true,
    		clickBar: true,
    		keyboardNavBy: 'items',
    		next: next,
    		prev: prev
    	}).init();

    // make first frame active
    frames.removeClass('active');
    frames.first().addClass('active');

    // subscribe to frame changed events
    sly.on('active', function (eventName, itemIndex) {
      frames.removeClass('active');
      frames.eq(itemIndex).addClass('active')
                          .trigger('shown');
    });
  }

  function layoutPageByRows(page, fillPage) {

    // row orientation
    page.addClass('dashboard-row-orientation');

    // find all the level2 sections (those are the rows)
    var rows = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (rows.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      rows = page.find('div.section.level2');
    }

    rows.each(function () {

      // flags
      var haveNotes = false;
      var haveFlexHeight = true;

      // remove the h2
      $(this).children('h2').remove();

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // give it row layout semantics if it's not a tabset
      if (!isTabset)
        $(this).addClass('dashboard-row');

      // find all of the level 3 subheads
      var columns = $(this).find('div.section.level3');

      // determine figureSizes sizes
      var figureSizes = chartFigureSizes(columns);

      // fixup the columns
      columns.each(function(index) {

        // layout the chart (force flex if we are in a tabset)
        var result = layoutChart($(this), isTabset);

        // update flexHeight state
        if (!result.flex)
          haveFlexHeight = false;

        // update state
        if (result.notes)
          haveNotes = true;

        // set the column flex based on the figure width
        // (value boxes will just get the default figure width)
        var chartWidth = figureSizes[index].width;
        setFlex($(this), chartWidth + ' ' + chartWidth + ' 0px');

      });

      // remove empty chart note divs
      if (isTabset)
        $(this).find('.chart-notes').filter(function() {
            return $(this).html() === "&nbsp;";
        }).remove();
      if (!haveNotes)
        $(this).find('.chart-notes').remove();

       // make it a flexbox row
      if (haveFlexHeight)
        $(this).addClass('dashboard-row-flex');

      // now we can set the height on all the wrappers (based on maximum
      // figure height + room for title and notes, or data-height on the
      // container if specified). However, don't do this if there is
      // no flex on any of the constituent columns
      var flexHeight = null;
      var dataHeight = parseInt($(this).attr('data-height'));
      if (dataHeight)
        flexHeight = adjustedHeight(dataHeight, columns.first());
      else if (haveFlexHeight)
        flexHeight = maxChartHeight(figureSizes, columns);
      if (flexHeight) {
        if (fillPage)
          setFlex($(this), flexHeight + ' ' + flexHeight + ' 0px');
        else {
          $(this).css('height', flexHeight + 'px');
          setFlex($(this), '0 0 ' + flexHeight + 'px');
        }
      }

    });
  }

  function layoutPageByColumns(page, fillPage) {

    // column orientation
    page.addClass('dashboard-column-orientation');

    // find all the level2 sections (those are the columns)
    var columns = page.find('div.section.level2');

    // if there are no level2 sections then treat the
    // entire page as if it's a level 2 section
    if (columns.length === 0) {
      page.wrapInner('<div class="section level2"></div>');
      columns = page.find('div.section.level2');
    }

    // layout each column
    columns.each(function (index) {

      // remove the h2
      $(this).children('h2').remove();

      // make it a flexbox column
      $(this).addClass('dashboard-column');

      // check for a tabset
      var isTabset = $(this).hasClass('tabset');
      if (isTabset)
        layoutTabset($(this));

      // find all the h3 elements
      var rows = $(this).find('div.section.level3');

      // get the figure sizes for the rows
      var figureSizes = chartFigureSizes(rows);

      // column flex is the max row width (or data-width if specified)
      var flexWidth;
      var dataWidth = parseInt($(this).attr('data-width'));
      if (dataWidth)
        flexWidth = dataWidth;
      else
        flexWidth = maxChartWidth(figureSizes);
      setFlex($(this), flexWidth + ' ' + flexWidth + ' 0px');

      // layout each chart
      rows.each(function(index) {

        // perform the layout
        var result = layoutChart($(this), false);

        // ice the notes if there are none
        if (!result.notes)
          $(this).find('.chart-notes').remove();

        // set flex height based on figHeight, then adjust
        if (result.flex) {
          var chartHeight = figureSizes[index].height;
          chartHeight = adjustedHeight(chartHeight, $(this));
          if (fillPage)
            setFlex($(this), chartHeight + ' ' + chartHeight + ' 0px');
          else {
            $(this).css('height', chartHeight + 'px');
            setFlex($(this), chartHeight + ' ' + chartHeight + ' ' + chartHeight + 'px');
          }
        }
      });
    });
  }

  function chartFigureSizes(charts) {

    // sizes
    var figureSizes = new Array(charts.length);

    // check each chart
    charts.each(function(index) {

      // start with default
      figureSizes[index] = {
        width: _options.defaultFigWidth,
        height: _options.defaultFigHeight
      };

      // look for data-height or data-width then knit options
      var dataWidth = parseInt($(this).attr('data-width'));
      var dataHeight = parseInt($(this).attr('data-height'));
      var knitrOptions = $(this).find('.knitr-options:first');
      var knitrWidth, knitrHeight;
      if (knitrOptions) {
        knitrWidth = parseInt(knitrOptions.attr('data-fig-width'));
        knitrHeight =  parseInt(knitrOptions.attr('data-fig-height'));
      }

      // width
      if (dataWidth)
        figureSizes[index].width = dataWidth;
      else if (knitrWidth)
        figureSizes[index].width = knitrWidth;

      // height
      if (dataHeight)
        figureSizes[index].height = dataHeight;
      else if (knitrHeight)
        figureSizes[index].height = knitrHeight;
    });

    // return sizes
    return figureSizes;
  }

  function maxChartHeight(figureSizes, charts) {

    // first compute the maximum height
    var maxHeight = _options.defaultFigHeight;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].height > maxHeight)
        maxHeight = figureSizes[i].height;

    // now add offests for chart title and chart notes
    if (charts.length)
      maxHeight = adjustedHeight(maxHeight, charts.first());

    return maxHeight;
  }

  function adjustedHeight(height, chart) {
    if (chart.length > 0) {
      var chartTitle = chart.find('.chart-title');
      if (chartTitle.length)
        height += chartTitle.first().outerHeight();
      var chartNotes = chart.find('.chart-notes');
      if (chartNotes.length)
        height += chartNotes.first().outerHeight();
    }
    return height;
  }

  function maxChartWidth(figureSizes) {
    var maxWidth = _options.defaultFigWidth;
    for (var i = 0; i<figureSizes.length; i++)
      if (figureSizes[i].width > maxWidth)
        maxWidth = figureSizes[i].width;
    return maxWidth;
  }

  // layout a chart
  function layoutChart(chart, forceFlex) {

    // state to return
    var result = {
      notes: false,
      flex: false
    };

    // extract the title
    var title = extractTitle(chart);

    // find components that apply to this container
    var components = componentsFind(chart);

    // if it's a custom component then call it and return
    var customComponents = componentsCustom(components);
    if (customComponents.length) {
      componentsLayout(customComponents, title, chart);
      result.notes = false;
      result.flex = forceFlex || componentsFlex(customComponents);
      return result;
    }

    // put all the content in a chart wrapper div
    chart.addClass('chart-wrapper');
    chart.wrapInner('<div class="chart-stage"></div>');
    var chartContent = chart.children('.chart-stage');

    // flex the content if appropriate
    result.flex = forceFlex || componentsFlex(components);
    if (result.flex) {
      // add flex classes
      chart.addClass('chart-wrapper-flex');
      chartContent.addClass('chart-stage-flex');

      // additional shim to break out of flexbox sizing
      chartContent.wrapInner('<div class="chart-shim"></div>');
      chartContent = chartContent.children('.chart-shim');
    }

    // set custom data-padding attribute
    var pad = chart.attr('data-padding');
    if (pad) {
      if (pad === "0")
        chart.addClass('no-padding');
      else {
        pad = pad + 'px';
        chartContent.css('left', pad)
                    .css('top', pad)
                    .css('right', pad)
                    .css('bottom', pad)
      }
    }

    // call compoents
    componentsLayout(components, title, chartContent);

    // also activate components on shiny output
    findShinyOutput(chartContent).on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {

          // see if we opted out of flex based on our output (for shiny
          // we can't tell what type of output we have until after the
          // value is bound)
          var components = componentsFind(element);
          var flex = forceFlex || componentsFlex(components);
          if (!flex) {
            chart.css('height', "");
            setFlex(chart, "");
            chart.removeClass('chart-wrapper-flex');
            chartContent.removeClass('chart-stage-flex');
            chartContent.children().unwrap();
          }

          // perform layout
          componentsLayout(components, title, element.parent());
        }, 10);
      });

    // add the title
    var chartTitle = $('<div class="chart-title"></div>');
    chartTitle.html(title);
    chart.prepend(chartTitle);

    // add the notes section
    var chartNotes = $('<div class="chart-notes"></div>');
    chartNotes.html('&nbsp;');
    chart.append(chartNotes);

    // attempt to extract notes if we have a component
    if (components.length)
      result.notes = extractChartNotes(chartContent, chartNotes);

    // return result
    return result;
  }

  // build a tabset from a section div with the .tabset class
  function layoutTabset(tabset) {

    // check for fade option
    var fade = tabset.hasClass("tabset-fade");
    var navClass = "nav-tabs";

    // determine the heading level of the tabset and tabs
    var match = tabset.attr('class').match(/level(\d) /);
    if (match === null)
      return;
    var tabsetLevel = Number(match[1]);
    var tabLevel = tabsetLevel + 1;

    // find all subheadings immediately below
    var tabs = tabset.find("div.section.level" + tabLevel);
    if (!tabs.length)
      return;

    // create tablist and tab-content elements
    var tabList = $('<ul class="nav ' + navClass + '" role="tablist"></ul>');
    $(tabs[0]).before(tabList);
    var tabContent = $('<div class="tab-content"></div>');
    $(tabs[0]).before(tabContent);

    // build the tabset
    tabs.each(function(i) {

      // get the tab div
      var tab = $(tabs[i]);

      // get the id then sanitize it for use with bootstrap tabs
      var id = tab.attr('id');

      // sanitize the id for use with bootstrap tabs
      id = id.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_');
      tab.attr('id', id);

      // get the heading element within it and grab it's text
      var heading = tab.find('h' + tabLevel + ':first');
      var headingText = heading.html();

      // build and append the tab list item
      var a = $('<a role="tab" data-toggle="tab">' + headingText + '</a>');
      a.attr('href', '#' + id);
      a.attr('aria-controls', id);
      var li = $('<li role="presentation"></li>');
      li.append(a);
      if (i === 0)
        li.attr('class', 'active');
      tabList.append(li);

      // set it's attributes
      tab.attr('role', 'tabpanel');
      tab.addClass('tab-pane');
      tab.addClass('tabbed-pane');
      tab.addClass('no-title');
      if (fade)
        tab.addClass('fade');
      if (i === 0) {
        tab.addClass('active');
        if (fade)
          tab.addClass('in');
      }

      // move it into the tab content div
      tab.detach().appendTo(tabContent);
    });

    // add nav-tabs-custom
    tabset.addClass('nav-tabs-custom');

    // internal layout is dashboard-column with tab-content flexing
    tabset.addClass('dashboard-column');
    setFlex(tabContent, 1);
  }

  // one time global initialization for components
  function componentsInit(dashboardContainer) {
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.init)
        component.init(dashboardContainer);
    }
  }

  // find components that apply within a container
  function componentsFind(container) {

    // look for components
    var components = [];
    for (var i=0; i<window.FlexDashboardComponents.length; i++) {
      var component = window.FlexDashboardComponents[i];
      if (component.find(container).length)
        components.push(component);
    }

    // if there were none then use a special flowing content component
    // that just adds a scrollbar in fillPage mode
    if (components.length == 0) {
      components.push({
        find: function(container) {
          return container;
        },

        flex: function(fillPage) {
          return fillPage;
        },

        layout: function(title, container, element, fillPage) {
          if (fillPage) {
            container.addClass('flowing-content-shim');
            container.addClass('flowing-content-container');
          }
        }
      });
    }

    return components;
  }

  // if there is a custom component then pick it out
  function componentsCustom(components) {
    var customComponent = [];
    for (var i=0; i<components.length; i++)
      if (components[i].type === "custom") {
        customComponent.push(components[i]);
        break;
      }
    return customComponent;
  }

  // query all components for flex
  function componentsFlex(components) {

    // no components at all means no flex
    if (components.length === 0)
      return false;

    // otherwise query components (assume true unless we see false)
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++)
      if (components[i].flex && !components[i].flex(_options.fillPage))
        return false;
    return true;
  }

  // layout all components
  function componentsLayout(components, title, container) {
    var isMobile = isMobilePhone();
    for (var i=0; i<components.length; i++) {
      var element = components[i].find(container);
      if (components[i].layout) {
        // call layout (don't call other components if it returns false)
        var result = components[i].layout(title, container, element, _options.fillPage);
        if (result === false)
          return;
      }
    }
  }

  // get a reference to the h3, discover it's inner html, and remove it
  function extractTitle(container) {
    var h3 = container.children('h3').first();
    var title = '';
    if (!container.hasClass('no-title'))
      title = h3.html();
    h3.remove();
    return title;
  }

  // extract chart notes
  function extractChartNotes(chartContent, chartNotes) {
    // look for a terminating blockquote or image caption
    var blockquote = chartContent.children('blockquote:last-child');
    var caption = chartContent.children('div.image-container')
                              .children('p.caption');
    if (blockquote.length) {
      chartNotes.html(blockquote.children('p:first-child').html());
      blockquote.remove();
      return true;
    } else if (caption.length) {
      chartNotes.html(caption.html());
      caption.remove();
      return true;
    } else {
      return false;
    }
  }

  function findShinyOutput(chartContent) {
    return chartContent.find('.shiny-text-output, .shiny-html-output');
  }

  // safely detect rendering on a mobile phone
  function isMobilePhone() {
    try
    {
      return ! window.matchMedia("only screen and (min-width: 768px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  function isFillPage() {
    return _options.fillPage;
  }

  // detect portrait mode
  function isPortrait() {
    return ($(window).width() < $(window).height());
  }

  // safely detect rendering on a tablet
  function isTablet() {
    try
    {
      return window.matchMedia("only screen and (min-width: 769px) and (max-width: 992px)").matches;
    }
    catch(e) {
      return false;
    }
  }

  // test whether this is a shiny doc
  function isShinyDoc() {
    return (typeof(window.Shiny) !== "undefined" && !!window.Shiny.outputBindings);
  }

  // set flex using vendor specific prefixes
  function setFlex(el, flex) {
    el.css('-webkit-box-flex', flex)
      .css('-webkit-flex', flex)
      .css('-ms-flex', flex)
      .css('flex', flex);
  }

  // support bookmarking of pages
  function handleLocationHash() {

    // restore tab/page from bookmark
    var hash = window.location.hash;
    if (hash.length > 0)
      $('ul.nav a[href="' + hash + '"]').tab('show');
    FlexDashboardUtils.manageActiveNavbarMenu();

    // navigate to a tab when the history changes
    window.addEventListener("popstate", function(e) {
      var hash = window.location.hash;
      var activeTab = $('ul.nav a[href="' + hash + '"]');
      if (activeTab.length) {
        activeTab.tab('show');
      } else {
        $('ul.nav a:first').tab('show');
      }
      FlexDashboardUtils.manageActiveNavbarMenu();
    });

    // add a hash to the URL when the user clicks on a tab/page
    $('.navbar-nav a[data-toggle="tab"]').on('click', function(e) {
      var baseUrl = FlexDashboardUtils.urlWithoutHash(window.location.href);
      var hash = FlexDashboardUtils.urlHash($(this).attr('href'));
      var href = baseUrl + hash;
      FlexDashboardUtils.setLocation(href);
    });

    // handle clicks of other links that should activate pages
    var navPages = $('ul.navbar-nav li a[data-toggle=tab]');
    navPages.each(function() {
      var href =  $(this).attr('href');
      var links = $('a[href="' + href + '"][data-toggle!=tab]');
      links.each(function() {
        $(this).on('click', function(e) {
          window.FlexDashboardUtils.showPage(href);
        });
      });
    });
  }

  // tweak Prism highlighting
  function initPrismHighlighting() {

    if (window.Prism) {
      Prism.languages.insertBefore('r', 'comment', {
        'heading': [
          {
            // title 1
        	  // =======

        	  // title 2
        	  // -------
        	  pattern: /\w+.*(?:\r?\n|\r)(?:====+|----+)/,
            alias: 'operator'
          },
          {
            // ### title 3
            pattern: /(^\s*)###[^#].+/m,
            lookbehind: true,
            alias: 'operator'
          }
        ]
      });

      // prism highlight
      Prism.highlightAll();
    }
  }


  // get theme color
  var themeColors = {
    bootstrap: {
      primary: "rgba(51, 122, 183, 0.4)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    cerulean: {
      primary: "rgb(47, 164, 231)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    journal: {
      primary: "rgba(235, 104, 100, 0.70)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    flatly: {
      primary: "rgba(44, 62, 80, 0.70)",
      info: "rgba(52, 152, 219, 0.70)",
      success: "rgba(24, 188, 156, 0.70)",
      warning: "rgba(243, 156, 18, 0.70)",
      danger: "rgba(231, 76, 60, 0.70)"
    },
    readable: {
      primary: "rgba(69, 130, 236, 0.4)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    spacelab: {
      primary: "rgba(68, 110, 155, 0.25)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    united: {
      primary: "rgba(221, 72, 20, 0.30)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    cosmo: {
      primary: "rgba(39, 128, 227, 0.7)",
      info: "rgba(153, 84, 187, 0.7)",
      success: "rgba(63, 182, 24, 0.7)",
      warning: "rgba(255, 117, 24, 0.7)",
      danger: "rgba(255, 0, 57, 0.7)"
    },
    lumen: {
      primary: "rgba(21, 140, 186, 0.70)",
      info: "rgba(117, 202, 235, 0.90)",
      success: "rgba(40, 182, 44, 0.70)",
      warning: "rgba(255, 133, 27, 0.70)",
      danger: "rgba(255, 65, 54, 0.70)"
    },
    paper: {
      primary: "rgba(33, 150, 243, 0.35)",
      info: "rgb(225, 190, 231)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(255, 224, 178)",
      danger: "rgb(249, 189, 187)"
    },
    sandstone: {
      primary: "rgba(50, 93, 136, 0.3)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    simplex: {
      primary: "rgba(217, 35, 15, 0.25)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    },
    yeti: {
      primary: "rgba(0, 140, 186, 0.298039)",
      info: "rgb(217, 237, 247)",
      success: "rgb(223, 240, 216)",
      warning: "rgb(252, 248, 227)",
      danger: "rgb(242, 222, 222)"
    }
  }
  function themeColor(color) {
    return themeColors[_options.theme][color];
  }

  FlexDashboard.prototype = {
    constructor: FlexDashboard,
    init: init,
    isMobilePhone: isMobilePhone,
    isFillPage: isFillPage,
    themeColor: themeColor
  };

  return FlexDashboard;

})();

// utils
window.FlexDashboardUtils = {
  resizableImage: function(img) {
    var src = img.attr('src');
    var url = 'url("' + src + '")';
    img.parent().css('background', url)
                .css('background-size', 'contain')
                .css('background-repeat', 'no-repeat')
                .css('background-position', 'center')
                .addClass('image-container');
  },
  setLocation: function(href) {
    if (history && history.pushState) {
      history.pushState(null, null, href);
    } else {
      window.location.replace(href);
    }
    setTimeout(function() {
        window.scrollTo(0, 0);
    }, 10);
    this.manageActiveNavbarMenu();
  },
  showPage: function(href) {
    $('ul.navbar-nav li a[href="' + href + '"]').tab('show');
    var baseUrl = this.urlWithoutHash(window.location.href);
    var loc = baseUrl + href;
    this.setLocation(loc);
  },
  showLinkedValue: function(href) {
    // check for a page link
    if ($('ul.navbar-nav li a[data-toggle=tab][href="' + href + '"]').length > 0)
      this.showPage(href);
    else
      window.open(href);
  },
  urlWithoutHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(0, hashLoc);
    else
      return url;
  },
  urlHash: function(url) {
    var hashLoc = url.indexOf('#');
    if (hashLoc != -1)
      return url.substring(hashLoc);
    else
      return "";
  },
  manageActiveNavbarMenu: function () {
    // remove active from anyone currently active
    $('.navbar ul.nav').find('li').removeClass('active');
    // find the active tab
    var activeTab = $('.dashboard-page-wrapper.tab-pane.active');
    if (activeTab.length > 0) {
      var tabId = activeTab.attr('id');
      if (tabId)
        $(".navbar ul.nav a[href='#" + tabId + "']").parents('li').addClass('active');
    }
  }
};

window.FlexDashboard = new FlexDashboard();

// empty content
window.FlexDashboardComponents.push({
  find: function(container) {
    if (container.find('p').length == 0)
      return container;
    else
      return $();
  }
})

// plot image
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('p')
                    .children('img:only-child');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// plot image (figure style)
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.figure').children('img');
  },

  layout: function(title, container, element, fillPage) {
    FlexDashboardUtils.resizableImage(element);
  }
});

// htmlwidget
window.FlexDashboardComponents.push({

  init: function(dashboardContainer) {
    // trigger "shown" after initial layout to force static htmlwidgets
    // in runtime: shiny to be resized after the dom has been transformed
    dashboardContainer.on('flexdashboard:layoutcomplete', function(event) {
      setTimeout(function() {
        dashboardContainer.trigger('shown');
      }, 200);
    });
  },

  find: function(container) {
    return container.children('div[id^="htmlwidget-"],div.html-widget');
  }
});

// gauge
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.children('div.html-widget.gauge');
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {


  }

});

// shiny output
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.children('div[class^="shiny-"]');
  }
});

// datatables
window.FlexDashboardComponents.push({
  find: function(container) {
    return container.find('.datatables');
  },
  flex: function(fillPage) {
    return fillPage;
  }
});

// bootstrap table
window.FlexDashboardComponents.push({

  find: function(container) {
    var bsTable = container.find('table.table');
    if (bsTable.length !== 0)
      return bsTable;
    else
      return container.find('tr.header').parent('thead').parent('table');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var bsTable = element;

    // fixup xtable generated tables with a proper thead
    var headerRow = bsTable.find('tbody > tr:first-child > th').parent();
    if (headerRow.length > 0) {
      var thead = $('<thead></thead>');
      bsTable.prepend(thead);
      headerRow.detach().appendTo(thead);
    }

    // improve appearance
    container.addClass('bootstrap-table');

    // for fill page provide scrolling w/ sticky headers
    if (fillPage) {
      // force scrollbar on overflow
      container.addClass('flowing-content-shim');

      // stable table headers when scrolling
      bsTable.stickyTableHeaders({
        scrollableArea: container
      });
    }
  }
});

// embedded shiny app
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('iframe.shiny-frame');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage) {
      element.attr('height', '100%');
    } else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (!height)
        height = element.attr('height');
      if (!height)
        element.attr('height', 500);
    }
  }
});

// shiny fillRow or fillCol
window.FlexDashboardComponents.push({

  find: function(container) {
    return container.find('.flexfill-container');
  },

  flex: function(fillPage) {
    return fillPage;
  },

  layout: function(title, container, element, fillPage) {
    if (fillPage)
      element.css('height', '100%');
    else {
      // provide default height if necessary
      var height = element.get(0).style.height;
      if (height === "100%" || height === "auto" || height === "initial" ||
          height === "inherit" || !height) {
        element.css('height', 500);
      }
    }
  }
});

// valueBox
window.FlexDashboardComponents.push({

  type: "custom",

  find: function(container) {
    if (container.find('span.value-output, .shiny-valuebox-output').length)
      return container;
    else
      return $();
  },

  flex: function(fillPage) {
    return false;
  },

  layout: function(title, container, element, fillPage) {

    // alias variables
    var chartTitle = title;
    var valueBox = element;

    // add value-box class to container
    container.addClass('value-box');

    // value paragraph
    var value = $('<p class="value"></p>');

    // if we have shiny-text-output then just move it in
    var valueOutputSpan = [];
    var shinyOutput = valueBox.find('.shiny-valuebox-output').detach();
    if (shinyOutput.length) {
      valueBox.children().remove();
      shinyOutput.html("&mdash;");
      value.append(shinyOutput);
    } else {
      // extract the value (remove leading vector index)
      var chartValue = valueBox.text().trim();
      chartValue = chartValue.replace("[1] ", "");
      valueOutputSpan = valueBox.find('span.value-output').detach();
      valueBox.children().remove();
      value.text(chartValue);
    }

    // caption
    var caption = $('<p class="caption"></p>');
    caption.html(chartTitle);

    // build inner div for value box and add it
    var inner = $('<div class="inner"></div>');
    inner.append(value);
    inner.append(caption);
    valueBox.append(inner);

    // add icon if specified
    var icon = $('<div class="icon"><i></i></div>');
    valueBox.append(icon);
    function setIcon(chartIcon) {
      var iconLib = "";
      var components = chartIcon.split("-");
      if (components.length > 1)
        iconLib = components[0];
      icon.children('i').attr('class', iconLib + ' ' + chartIcon);
    }
    var chartIcon = valueBox.attr('data-icon');
    if (chartIcon)
      setIcon(chartIcon);

    // set color based on data-background if necessary
    var dataBackground = valueBox.attr('data-background');
    if (dataBackground)
      valueBox.css('background-color', bgColor);
    else {
      // default to bg-primary if no other background is specified
      if (!valueBox.hasClass('bg-primary') &&
          !valueBox.hasClass('bg-info') &&
          !valueBox.hasClass('bg-warning') &&
          !valueBox.hasClass('bg-success') &&
          !valueBox.hasClass('bg-danger')) {
        valueBox.addClass('bg-primary');
      }
    }

    // handle data attributes in valueOutputSpan
    function handleValueOutput(valueOutput) {

      // caption
      var dataCaption = valueOutput.attr('data-caption');
      if (dataCaption)
        caption.html(dataCaption);

      // icon
      var dataIcon = valueOutput.attr('data-icon');
      if (dataIcon)
        setIcon(dataIcon);

      // color
      var dataColor = valueOutput.attr('data-color');
      if (dataColor) {
        if (dataColor.indexOf('bg-') === 0) {
          valueBox.css('background-color', '');
          if (!valueBox.hasClass(dataColor)) {
             valueBox.removeClass('bg-primary bg-info bg-warning bg-danger bg-success');
             valueBox.addClass(dataColor);
          }
        } else {
          valueBox.removeClass('bg-primary bg-info bg-warning bg-danger bg-success');
          valueBox.css('background-color', dataColor);
        }
      }

      // url
      var dataHref = valueOutput.attr('data-href');
      if (dataHref) {
        valueBox.addClass('linked-value');
        valueBox.off('click.value-box');
        valueBox.on('click.value-box', function(e) {
          window.FlexDashboardUtils.showLinkedValue(dataHref);
        });
      }
    }

    // check for a valueOutputSpan
    if (valueOutputSpan.length > 0) {
      handleValueOutput(valueOutputSpan);
    }

    // if we have a shinyOutput then bind a listener to handle
    // new valueOutputSpan values
    shinyOutput.on('shiny:value',
      function(event) {
        var element = $(event.target);
        setTimeout(function() {
          var valueOutputSpan = element.find('span.value-output');
          if (valueOutputSpan.length > 0)
            handleValueOutput(valueOutputSpan);
        }, 10);
      }
    );
  }
});


</script>

<div id="dashboard-container">

<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="overview" class="section level1">
<h1>Overview</h1>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<span class="figsdot" style=" font-size:60pt;">0o|3z|3 \c|3o|3v|3i|2d|2 \1|29|2 \v|2i|2s|2u|2a|2l|1i|1s|1a|0t|0i|0o|0n|0s|0</span>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div id="column" class="section level2">
<h2>Column</h2>
<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>This web site is a joint effort of researchers at the <a href="https://swscs.med.unsw.edu.au">South Western Sydney Clinical School</a> and the <a href="https://cbdrh.med.unsw.edu.au">Centre for Big Data Research in Health</a> at the <a href="https://med.unsw.edu.au">UNSW Faculty of Medicine</a>, the <a href="https://research.monash.edu/en/organisations/econometrics-business-statistics">Econometrics and Business Statistics Research Group</a> of <a href="https://www.monash.edu/">Monash University</a>, and at the <a href="https://inghaminstitute.org.au">Ingham Institute for Applied Medical Research</a> in Liverpool, Sydney.</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="assets/cbdrh_logo.png" width="20%" style="padding:25px" /><img src="assets/unsw_logo.png" width="20%" data-figure-id=fig1 /><img src="assets/monash-logo-mono.png" width="20%" style="padding:25px" /><img src="assets/Ingham_Institute_Logo_Horizontal.jpg" width="20%" data-figure-id=fig1 /></p>
<p>The intent is to offer a range of principled epidemiological and statistical analyses and visualisations of current COVID-19 data which go beyond the now ubiquitous <a href="https://coronavirus.jhu.edu/map.html">world maps and cumulative incidence charts</a>.</p>
<p>The broad themes for the analyses and visualisations currently available are listed in the menu at the top of this page  more will be added in due course. For each theme there is an introductory page explaining the motivating ideas and methodology employed for each of the visualisations or analyses for that theme, which are available in the subsequent frames (the series of rectangles at the top of each page). Additional notes or commentary appear on the right of some pages.</p>
<p>The time-series line in the heading above is derived from current incidence cases of COVID-19 in Australia.</p>
<div id="an-australian-focus-with-an-international-perspective" class="section level4">
<h4>An Australian focus with an international perspective</h4>
<p>This site has been created by researchers at Australian universities, and hence the focus is on the situation in Australia, within the broader international context  we are, after all, all in this together. However, we hope that some of the analyses and visualisations on this site might be useful elsewhere, and to that end, all the <a href="https://www.r-project.org"><code>R</code></a> source code used to create this site if freely available  please see the <em>Technical details</em> tab above for details on software used, and where to find the source code.</p>
</div>
</div>
</div>
</div>
<div id="incidence" class="section level1 storyboard">
<h1>Incidence</h1>
<div id="explanation" class="section level3">
<h3>Explanation</h3>
<p>Incidence is the epidemiological term for the number of cases of a disease meeting some case definition in a specified time period. Here we present the daily incidence  that is, the number of new cases each day  of COVID-19 for a range of countries, including Australia, of course. Each country may be using a slightly different case definition, although most of the countries presented here have been using case definitions aligned with those <a href="https://www.who.int/publications-detail/global-surveillance-for-human-infection-with-novel-coronavirus-(2019-ncov)">recommended by the WHO</a>. Three types of case definition are used, simultaneously:</p>
<ul>
<li><strong>Suspected cases</strong></li>
<li><strong>Probable cases</strong></li>
<li><strong>Confirmed (by laboratory test) cases</strong></li>
</ul>
<p>All of the data reported here are for <strong>confirmed cases</strong>, with a few exceptions  China included cases diagnosed via lung CT scan for a few days in February, 2020, but we have adjusted the data for those days as far as possible to remove that anomaly.</p>
<p>The data are drawn from the <a href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide">European CDC</a>, which has collected data from various governing agencies around the world. There are some small discrepancies between these data and those given by the Australian government, and indeed other national governments, due to timing issues relating to when cases are tabulated each day, and so on. However, we believe the the European CDC to be the best source of automatically downloadable, machine-readable data there is right now.</p>
<p>Note, however, that because the <strong>confirmed</strong> case definition depends on laboratory confirmation, it is influenced by the number of lab tests (RT-PCR, reverse transcriptase polymerase chain reaction tests on nasopharyngeal swabs or sputum) done by each reporting country or jurisdiction. Obviously the number of reported cases is bounded by the number of such labs tests which are done, but the degree of under-ascertainment is also affected by the policies in place which determine which potential COVID-19 cases are tested. These policies are completely country-specific and have changed over time.</p>
<p>Another issue with these data is that it is vastly preferable to analyse incidence by (presumed or definite) date of onset of symptoms, rather than by date of notification or date of reporting. There may be variable delays in the processing of laboratory tests and the reporting of cases to central authorities. Tabulation of incidence counts by date of onset overcomes this problem. Almost all national and jurisdictional health authorities will be collecting data on presumed date of onset for each case (although, inexplicably, it is <strong>not</strong> one of the data items on the <a href="https://apps.who.int/iris/bitstream/handle/10665/331234/WHO-2019-nCoV-SurveillanceCRF-2020.2-eng.pdf">WHO-recommended data collection form</a>). One reason for not using date of onset is that it may be incomplete, but this ignores the fact that statistical imputation can be used to validly fill in those missing dates of onset. There are also a body of methods, collectively known as <em>nowcasting</em>, that use multivariate time-series models to convert data tabulated by date of notification/reporting to (estimated) date of onset. If national or jurisdictional health authorities do not have the technical capacity to undertake such value-adding to their own data, they should make the required data available to trusted partners in the academic sector who can undertake such statistical manipulation for them (or help authorities implement such processing internally).</p>
<div id="cumulative-incidence" class="section level4">
<h4>Cumulative Incidence</h4>
<p>Cumulative incidence is, as the name suggests, just the cumulative sum of the daily incidence - that is, a running total of the number of cases. Reporting of cumulative COVID-19 seems to dominate the mainstream media, but it has many disadvantages. In particular, a cumulative sum of case counts is always monotonically increasing  it can only ever go up, or at best, remain flat if there are no new incident cases. This tends to obscure the rate of change in incidence over time  subtle, or even large changes in the slope of the cumulative incidence curve are difficult to see.</p>
</div>
<div id="semi-log-cumulative-incidence-chart" class="section level4">
<h4>Semi-log cumulative incidence chart</h4>
<p>The first chart presented here is a semi-log cumulative incidence chart. This chart seems to have been popularised by <a href="https://twitter.com/jburnmurdoch">John Burn-Murdoch</a> in the <a href="https://www.ft.com/coronavirus-latest">Financial Times</a>, but it appears it was <a href="https://blog.grattan.edu.au/2020/03/australian-governments-can-choose-to-slow-the-spread-of-coronavirus-but-they-must-act-immediately/">first used by Matt Cowgill</a> from Australias very own <a href="https://blog.grattan.edu.au">Grattan Institute</a>. It has since been widely copied and reproduced. Please see a <a href="https://robjhyndman.com/hyndsight/logratios-covid19/">blog post by Prof Rob Hyndman</a> for further discussion of this chart, and some alternative analyses.</p>
<p>There are several variations on the <em>Grattan</em> chart presented, please see the notes for each one.</p>
</div>
<div id="epicurves" class="section level4">
<h4><em>Epicurves</em></h4>
<p>The <em>epicurve</em> is perhaps the most-used chart in field epidemiology and outbreak control. It is simply a chart of daily (or weekly, for slower-moving diseases) incidence (new cases), traditionally shown as a bar chart. It gives an immediate sense of whether an outbreak or epidemic is in a growth phase, with increasing incident counts each successive day, or in a decay phase, with decreasing counts each successive day. Note that the cumulative count will still increase, day-on-day, even when an outbreak or epidemic is in a decay phase. Only when the epidemic has been completely extinguished will the cumulative incidence stop increasing. Thats one of the reasons why cumulative incidence charts are rarely used by epidemiologists.</p>
<p>Three variations of <em>epicurves</em> are provided here:</p>
<ul>
<li>the usual <em>epicurve</em>, on a linear y-axis, and with the ranges specific for each country to maximise the amount of detail discernible.</li>
<li>the usual <em>epicurve</em>, on a linear y-axis, but with the same y-axis scale across all countries, which clearly shows the relative incidence in each country. This chart is quite startling!</li>
<li>the same chart, but with a logarithmic y-axis, which allows the periods with lower counts to be inspected in greater detail.</li>
</ul>
</div>
</div>
<div id="semi-log-cumulative-incidence-for-selected-countries-the-grattan-institute-chart" class="section level3">
<h3>Semi-log <strong>cumulative incidence</strong> for selected countries  the <em>Grattan Institute</em> chart</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/gg-cumulative-incidence-1.png" width="1152" data-figure-id=fig1 /></p>
<hr />
<p>This chart, developed and poularised by the <a href="https://blog.grattan.edu.au">Grattan Institute</a> and the <a href="https://www.ft.com/coronavirus-latest">Financial Times</a>, shows the cumulative cases of COVID-19 for selected countries on a logarithmic y-axis scale, with the dates on the x-axis normalised to the number of days since each country shown exceeded 100 cumulative cases, on a linear x-axis scale (hence the name <em>semi-log</em>, since only one of the two axes is logarithmic).</p>
<p>Note that countries peel off the diagonal trajectory as their rate of new (incident) cases reduces. If the line for a country is almost horizontal, it means there are almost no new cases occurring there.</p>
<p>The curve for Australia is clearly flattening, and we are keeping good company with China, South Korea, Taiwan and New Zealand as the other countries with nearly horizontal trajectories. Note that after considerable initial success in containing COVID-19 spread, both Japan and Singapore are now on a upwards trajectory, but the slopes of those trajectories are much shallower than the other countries shown, indicating much slower spread.</p>
</div>
<div id="semi-log-cumulative-incidence-for-selected-countries-aligned-to-start-of-epidemic-in-each-country" class="section level3">
<h3>Semi-log <strong>cumulative incidence</strong> for selected countries  aligned to start of epidemic in each country</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/gg-cumulative-incidence-since-cp-1.png" width="1152" data-figure-id=fig2 /></p>
<hr />
<p>This chart is a variation on the previous <em>Grattan Institute</em> chart. It isnt really an improvement on the <em>Grattan</em> chart, but is shown here to illustrate the sensitivity of the <em>Grattan</em> chart to the method used to align the dates on the x-axis. In the chart shown at left, the dates on the x-axis are aligned to the approximate start of the COVID-19 epidemic in each country. The start dates are chosen automatically using a non-parametric changepoint detection algorithm, (see the <a href="https://CRAN.R-project.org/package=changepoint.np"><code>changepoint.np</code> package</a> for <code>R</code>). The changepoints for each country shown are as follows:</p>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<table>
<thead>
<tr class="header">
<th align="left">Country</th>
<th align="left">Detected start of epidemic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">China</td>
<td align="left">2020-01-17</td>
</tr>
<tr class="even">
<td align="left">Japan</td>
<td align="left">2020-01-23</td>
</tr>
<tr class="odd">
<td align="left">Taiwan</td>
<td align="left">2020-01-24</td>
</tr>
<tr class="even">
<td align="left">Singapore</td>
<td align="left">2020-01-27</td>
</tr>
<tr class="odd">
<td align="left">South Korea</td>
<td align="left">2020-01-30</td>
</tr>
<tr class="even">
<td align="left">Italy</td>
<td align="left">2020-02-21</td>
</tr>
<tr class="odd">
<td align="left">Spain</td>
<td align="left">2020-02-24</td>
</tr>
<tr class="even">
<td align="left">Germany</td>
<td align="left">2020-02-25</td>
</tr>
<tr class="odd">
<td align="left">Canada</td>
<td align="left">2020-02-26</td>
</tr>
<tr class="even">
<td align="left">Sweden</td>
<td align="left">2020-02-26</td>
</tr>
<tr class="odd">
<td align="left">USA</td>
<td align="left">2020-02-26</td>
</tr>
<tr class="even">
<td align="left">UK</td>
<td align="left">2020-02-27</td>
</tr>
<tr class="odd">
<td align="left">Australia</td>
<td align="left">2020-02-28</td>
</tr>
<tr class="even">
<td align="left">Brazil</td>
<td align="left">2020-03-04</td>
</tr>
<tr class="odd">
<td align="left">Russia</td>
<td align="left">2020-03-11</td>
</tr>
<tr class="even">
<td align="left">New Zealand</td>
<td align="left">2020-03-18</td>
</tr>
</tbody>
</table>
</div>
<div id="semi-log-daily-incidence-for-selected-countries-aligned-to-start-of-epidemic-in-each-country" class="section level3">
<h3>Semi-log daily <strong>incidence</strong> for selected countries  aligned to start of epidemic in each country</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/gg-incidence-since-cp-1.png" width="1152" data-figure-id=fig3 /></p>
<hr />
<p>This is another variation on the <em>Grattan Institute</em> chart, but this time howing daily incidence on the y-axis, rather than daily <strong>cumulative</strong> incidence. It is basically the same information as shown in the <em>epicurve</em> charts in the subsequent frames (accessed via the blue rectangles at the top of the page), but all of the selectsed countries are shown on one plot, and the dates are aligned by the detected start of the epidemic in each country.</p>
<p>One problem is that the daily incidence curves are rather noisy (with missing values for some countries). We can address that by smoothing them, as shown in the next frame.</p>
</div>
<div id="semi-log-smoothed-daily-incidence-for-selected-countries-aligned-to-start-of-epidemic-in-each-country" class="section level3">
<h3>Semi-log <strong>smoothed</strong> daily <strong>incidence</strong> for selected countries  aligned to start of epidemic in each country</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/gg-incidence-since-cp-smoothed-1.png" width="1152" data-figure-id=fig4 /></p>
<hr />
<p>In this chart (see discussion in previous frame), we can now discern three distinct groups of countries:</p>
<ul>
<li>an upper group of the USA, Russia and Brazil, where the epidemic is still growing rapidly.</li>
<li>a middle group comprising the UK and European countries</li>
<li>a lower group, which includes Australia , New Zealand, South Korea, Taiwan, mainland China, Japan and Singapore, which all have their local COVID-19 epidemics under control (but definitely not eliminated). Note however that Japan and Singapore are now exiting that lower group and heading upwards.</li>
</ul>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
</div>
<div id="log-log-incidence-versus-cumulative-incidence-animation" class="section level3">
<h3>Log-log incidence versus cumulative incidence animation</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="assets/log-log-incidence.gif" width="1152" data-figure-id=fig5 /></p>
<hr />
<p>This plot replicates <a href="https://aatishb.com/covidtrends/">a chart</a> developed by <a href="https://aatishb.com">Aatish Bhatia</a> in collaboration with <a href="https://www.youtube.com/user/minutephysics">Minute Physics</a>. The plot shows, for each country, the number of incident (new) cases on the y-axis, on a logarithmic scale, versus the cumulative total of cases on the x-axis, also on a logarithmic scale. When plotted in this way, uncontrolled epidemics with exponential growth take a linear (straight line) trajectory at some angle. As an epidemic is brought under control, the trajectory drops below the straight line, eventually falling vertically if the epidemic has been completely extinguished.</p>
<p>This is just an alternative visualisation of the data shown in earlier frames, but it looks pretty and in this case the animation is actually helpful, because it shows time, which is not otherwise one of the explicit dimensions of the chart.</p>
</div>
<div id="epicurves-for-selected-countries" class="section level3">
<h3><em>Epicurves</em> for selected countries</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/global-cases-1.png" width="1152" data-figure-id=fig5 /></p>
<hr />
<p>The charts shown here are <em>epicurves</em>  that is, daily count of incident (new) cases, using data collated by the European CDC. It is easy to see when (or whether) the epidemic in each country entered a decay phase and the daily incidence started to decline (although the cumulative incidence will, by definition, continue to increase during the decay phase until the epidemic is completely extinguished).</p>
<p>Note that there are some days where the number of cases appears to spike upwards, followed by a decrease the following day. This indicates that there may be some data discrepancies in how the European CDC is capturing data from WHO Situation Reports. It underlines the importance of nations providing reliable machine-readable access to their own COVID-19 data. By machine-readable we mean CSV or JSON data files which are automatically downloadable, or an API which can be queried automatically to yield such data. Neither of those are difficult to establish, yet nearly all national governments have failed to provide such data, leaving it to third-party agencies and citizen-science efforts to piece together the required data in a manner that permits ongoing analysis. There is, for example, no official machine-readable source of national COVID-19 data provided by the Australian government. As far as we are aware, NSW is the only State or Territory government that has made any effort in that direction by providing some machine-readable data, which we leverage in the <span class="math inline">\(R_{t}\)</span> <em>for NSW</em> theme (see menu above).</p>
</div>
<div id="epicurves-for-selected-countries-common-y-axis-scale" class="section level3">
<h3><em>Epicurves</em> for selected countries (common y-axis scale)</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/world-incidence-free-scales-1.png" width="1152" data-figure-id=fig6 /></p>
<hr />
<p>Forcing the y-axis scale to be the same for all the plots in this chart means that, compared to the previous chart where the y-axis could change for each country, the country with the largest number cases, in this case, the USA, appears the same, and the rest of the plots appear smaller.</p>
<p>This provides important context: the number of cases in the USA currently dominates relative to other countries. The bottom row of countries are barely visible, by comparison.</p>
</div>
<div id="epicurves-for-selected-countries-logarithmic-y-axis-scale" class="section level3">
<h3><em>Epicurves</em> for selected countries (logarithmic y-axis scale)</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/world-incidence-free-scales-log-1.png" width="1152" data-figure-id=fig7 /></p>
<hr />
<p>The final variation the <em>epicurve</em> chart, show here, uses a logarithmic y-axis scale. This emphasises lower counts, which is useful for inspecting the beginnings and ends of the epicurves, or the middle parts where there is more than one wave, as in China and Singapore.</p>
</div>
</div>
<div id="national-level-r_t" class="section level1 storyboard">
<h1>National-level <span class="math inline">\(R_{t}\)</span></h1>
<div id="the-reproduction-number" class="section level3">
<h3>The <em>reproduction number</em></h3>
<div id="the-basic-reproduction-number-r_0" class="section level4">
<h4>The <em>basic reproduction number</em> <span class="math inline">\(R_{0}\)</span></h4>
<p>A key statistic in field epidemiology is the <em>basic reproduction number</em>, often referred to as R-zero or R-nought, and written <span class="math inline">\(R_{0}\)</span>. This is the number of people we expect each new case of a disease such as COVID-10 to infect  in other words, how many people each case passes the disease on to  at the <strong>beginning</strong> of a disease outbreak or epidemic, <strong>before</strong> any public health controls or interventions have been established or put in place.</p>
<p><span class="math inline">\(R_{0}\)</span> was popularised in the 2011 film <em>Contagion</em>. Here is Kate Winslet, who plays a US CDC epidemiologist, explaining <span class="math inline">\(R_{0}\)</span> (with a few errors  its <em>reproduction number</em>, not reproductive rate as she say) to government officials:</p>
<iframe width="560" height="315" align="center" src="https://www.youtube.com/embed/VrATMF_FB9M" frameborder="0" allowfullscreen>
</iframe>
<p><br></p>
<p>As explained in the film clip above, <span class="math inline">\(R_{0}\)</span> is determined by a number of factors, but is a very useful metric of how fast a communicable disease will spread in a population, if <strong>nothing is done</strong> to stop or slow it. Note that <span class="math inline">\(R_{0}\)</span> is <strong>not</strong> solely a characteristic of a pathogen (such as a virus) <em>per se</em>, but rather depends on the nature and biological behaviour of the pathogen, but also how it is transmitted, how often members of the population engage in behaviours that may transmit it, population density, whether any members of the population are immune or resistant to the disease, and so on. In other words, <span class="math inline">\(R_{0}\)</span> is highly situation-specific.</p>
<p>As such, <span class="math inline">\(R_{0}\)</span> is useful in the early stages of an epidemic, but as soon as (effective) public health interventions have been put in place to slow the spread of the disease, the reproduction number will change. The statistice is then referred to as the <em>effective reproduction number</em>, denoted <span class="math inline">\(R_{t}\)</span>, where <span class="math inline">\(t\)</span> stands for time. In other words, <span class="math inline">\(R_{t}\)</span> is the reproduction number at a particular point in time, <span class="math inline">\(t\)</span>.</p>
</div>
<div id="what-are-the-implications-of-the-effective-reproduction-number" class="section level4">
<h4>What are the implications of the <em>effective reproduction number</em>?</h4>
<p><strong>If <span class="math inline">\(R_{t}\)</span> equals 1.0</strong></p>
<ul>
<li>Each infected person spreads the disease, on average, to one other person during the course of their illness (which ends when they either recover or die). Therefore, in the long-run, the number of infected people neither grows nor shrinks. From day-to-day there may be some variation, but overall the number of new infections stays the same.</li>
</ul>
<p><strong>If <span class="math inline">\(R_{t}\)</span> is greater than 1.0</strong></p>
<ul>
<li>Each infected person spreads the disease, on average, to more than one other person during the course of their illness. Each of those spread the disease to more than one additional people, and so on. It is easy to see that this results in a growing number of new infections each day, and that growth rate itself also grows  the so-called exponential growth of an epidemic (at least in its early stages). If <span class="math inline">\(R_{0}\)</span> initially, or <span class="math inline">\(R_{t}\)</span>, later, is only just greater than 1.0, then the disease spreads only slowly, but if the <em>reproduction number</em> is well above 1.0, say, 2.0 or more, then rapid spread results.</li>
</ul>
<p><strong>If <span class="math inline">\(R_{t}\)</span> is less than 1.0</strong></p>
<ul>
<li>Each infected person spreads the disease, on average, to fewer than one other person during the course of their illness (obviously each person spreads it to a whole number of other people, e.g., zero, one, two, three, but <em>on average</em>, taken across a large number of infected individuals, the number infected by each person with the disease is less than one. Again, it is easy to see that this results in a falling number of new infections each day, and that rate of decay in the number of new infections also decays  in other words, epidemics decay exponentially too. As an aside, just a epidemics tend to grow much more quickly than most people expect  humans tend to reason using linear heuristics  so do epidemics decay much more <strong>slowly</strong> that people expect, for the same reason  humans assume linear behaviour, which does not (necessarily) apply to communicable disease dynamics.</li>
</ul>
</div>
<div id="estimating-the-time-varying-effective-reproduction-number-r_t" class="section level4">
<h4>Estimating the time-varying <em>effective reproduction number</em> <span class="math inline">\(R_{t}\)</span></h4>
<p>We estimate the <em>effective reproduction number</em> <span class="math inline">\(R_{t}\)</span> using a statistical model which was developed in 2013 by <a href="https://academic.oup.com/aje/article/178/9/1505/89262">Anne Cori and colleagues</a> at Imperial College London (ICL). The method was later extended by <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson and colleagues</a> (including Anne Cori), also at ICL. We wont go into the details of the model here  they are described in details in the cited papers  but we will remark on a few key points that need to be born in mind when interpreting these statistics.</p>
<ol style="list-style-type: decimal">
<li><p>The methods we use here estimate the <strong>instantaneous</strong> effective reproduction number, which is is the average number of secondary cases that each infected individual would infect if the conditions remained as they were at time <em>t</em>. In that respect, it is analogous to <em>current life expectancy</em> (which is the one usually calculated), which is the length of time someone is expected to live if the age- and sex-specific death rates as they currently are persist, unchnaged, into the future.</p></li>
<li><p>The <em>reproduction number</em> is an estimate of the spread of an infection in a specific, local population, and thus we should really only use counts of incident (new) infections which are the result of <strong>local</strong> spread  that is, we should not include cases which were acquired elsewhere, such as overseas or interstate, when estimating it. Doing so will bias our estimates of <span class="math inline">\(R_{t}\)</span> upwards while (in rough terms) the incidence of such cases is increasing, and downwards when they slow or stop. In fact, the estimation method used here can make proper use of <strong>both</strong> incident counts of imported cases and separate counts of locally-acquired cases. Unfortunately, very few jurisdictions have released data which enable that distinction, between imported and locally-acquired cases, to be made, and so we just use total incidence for the estimates shown in this section. However, incident counts of cases, split into imported and locally-acquired counts, <strong>is</strong> available from NSW Health, and we report on those, much better data in the next section (see menu at top of page).</p></li>
<li><p>We use a seven-day trailing sliding window of incidence case counts to calculate the current <span class="math inline">\(R_{t}\)</span> estimate. Thus, for each date, the estimate is based on the count of incident cases on that date and for the six days prior to that. This is done to smooth the estimates and provide greater precision for each estimate.</p></li>
<li><p>The estimation procedure uses Bayesian methods, and we display the median estimate of the posterior distribution of the estimated <span class="math inline">\(R_{t}\)</span>, as well as the 95% credible interval in some of the charts.</p></li>
<li><p>Estimation of the effective reproduction number should really use incidence data tabulated (aggregated) by date of symptom onset, not date of reporting or date of notification (to the relevant health authority). Please see the explanatory notes in the previous section on incidence for further discussion of this data gap, and how health authorities could readily address it.</p></li>
<li><p>Estimates of the <em>reproduction number</em> depend critically on using the correct distribution for the <em>serial interval</em>. The <em>serial interval</em> is the interval between the onset of symptoms in a case and the onset of symptoms in those infected by that case. In other words, the differences between the time (or date) of onset of an <em>infector</em> and the times or dates of onset of its <em>infectees</em>. Not every pair of <em>infector-infectee</em> cases will have the same serial interval, even for the same <em>infector</em> case. Thus, the <em>serial interval</em> is not a single number, or even a range, but rather a statistical distribution. It is often expressed or summarised as the mean and standard deviation of an idealised distribution, typically a discrete <span class="math inline">\(\beta\)</span> distribution, a <em>discrete Weibull</em> distribution or a <em>log-normal</em> distribution. In the charts in this section, we have used samples from the Bayesian posterior distribution for the <em>serial interval</em> derived from the observed <em>serial interval</em> pairs for COVID-19 published by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a>. Note that the resulting set of samples have a mean which is shorter than most estimates of the incubation period of COVID-19, which is indicative of asymptomatic transmission  that is, some cases of COVID-19 infection transmit the infection to others before they themselves start to experience symptoms of illness. That also explains the real difficulties in controlling the spread of the SARS-CoV-2 virus which causes COVID-19.</p></li>
</ol>
<p>Further discussion of <em>serial interval</em> estimation and calculation of the <em>effective reproduction number</em> can be found in <a href="https://timchurches.github.io/blog/posts/2020-02-18-analysing-covid-19-2019-ncov-outbreak-data-with-r-part-1/#estimating-changes-in-the-effective-reproduction-number">this technical blog post</a>.</p>
</div>
</div>
<div id="r_t-for-selected-countries-on-a-single-plot" class="section level3">
<h3><span class="math inline">\(R_{t}\)</span> for selected countries on a single plot</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/gg-effective-repro-all-1.png" width="1152" data-figure-id=fig8 /></p>
<hr />
<p>The <span class="math inline">\(R_{t}\)</span> estimates for each country indicate that most countries are bringing the spread of the virus under control or have brought it under control, with the exception Brazil.</p>
</div>
<div id="r_t-for-selected-countries-as-facetted-plots" class="section level3">
<h3><span class="math inline">\(R_{t}\)</span> for selected countries as facetted plots</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/gg-effective-r-facet-1.png" width="1152" data-figure-id=fig9 /></p>
<hr />
<p>This is the same information presented as in the previous graphic, but with each country split into its own graph. This allows us to see the trajectories of effective R for each country more easily.</p>
<p>Most countries are decreasing, but we notice that Japan and Singapore are rising, due to recent recrudescent outbreaks.</p>
</div>
<div id="r_t-for-selected-countries-as-facetted-plots-with-95-credible-intervals-shown" class="section level3">
<h3><span class="math inline">\(R_{t}\)</span> for selected countries as facetted plots with 95% credible intervals shown</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="index_files/figure-html/gg-effective-r-facet-ribbon-1.png" width="1152" data-figure-id=fig10 /></p>
<hr />
<p>This shows the uncertainty around the median estimates of the effective reproduction number. The grey bands either side of the median estimate indicate the area in which we are 95% certain the true estimate lies (note: these are Bayesian, not frequentist estimates).</p>
</div>
<div id="australia-r_t-and-incidence" class="section level3">
<h3>Australia: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-australia-1.png" width="576" data-figure-id=fig11 /></p>
<hr />
<p>The <span class="math inline">\(R_{t}\)</span> for the COVID-19 epidemic in Australia appears to have been in decay since about 23rd March. Note that Australia effectively closed its borders to all non-residents on 19th March, and implemented nation-wide social distancing recommendations on 21st March, and state governments began to close non-essential services on 22nd March.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="japan-r_t-and-incidence" class="section level3">
<h3>Japan: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-japan-1.png" width="576" data-figure-id=fig12 /></p>
<hr />
<p>By contrast, Japan appears to have managed the early stages of the epidemic well, but failed, due to lack of enabling legislation, to implement strict social distancing nationwide. This may have contributed to the escape of the epidemic around 23rd March. Since then, Japan has struggled to regain control, although emergencies have now been declared in many Japanese prefectures, which have resulted in better containment of spread.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="south-korea-r_t-and-incidence" class="section level3">
<h3>South Korea: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-south-krea-1.png" width="576" data-figure-id=fig13 /></p>
<hr />
<p>South Korea is a model of how to fight COVID-19. After initial, very fast growing outbreaks centred in Daegu, the South Korean authorities moved swiftly to implement very efficient and thorough case and contact tracing with rigorous isolation of cases and quarantining of contacts, plus extensive social distancing measures in affected areas. Within a month they had brought the epidemic under control, and have been able to keep it in decay since 9th March, with the exception of a short-lived outbreak in nightclubs in Seoul as soon as social disatncing was relaxed, now contained.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="china-r_t-and-incidence" class="section level3">
<h3>China: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-china-1.png" width="576" data-figure-id=fig14 /></p>
<hr />
<p>China stunned the world, or at least it stunned epidemiologists and public health practitioners everywhere, when it closed the city of Wuhan, and then the entire province of Hubei, on 24th January. The result was that within a few weeks the epidemic was in decay, and that decay has accelerated due to door-to-door case-and-contract tracing efforts. Small outbreaks around teh country, including in Wuhan, have all been rapidly contained.</p>
<p>As COVID-19 epidemics began to become apparent in other countries in March, resulting in the repatriation of Chines nationals, there was an increase in the <span class="math inline">\(R_{t}\)</span> estimated here, because it is not possible to separate those <em>imported</em> cases from ongoing local transmission. Thus, at least some of the bump in the estimated <span class="math inline">\(R_{t}\)</span> around 23rd March is an artefact of inadequate data.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="canada-r_t-and-incidence" class="section level3">
<h3>Canada: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-canada-1.png" width="576" data-figure-id=fig15 /></p>
<hr />
<p>Canada clearly suffers from sharing a long border with the US, but nonetheless appears to almost have its COVID-19 epidemic under control.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="germany-r_t-and-incidence" class="section level3">
<h3>Germany: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-germany-1.png" width="576" data-figure-id=fig16 /></p>
<hr />
<p>Italy, Spain, France and Germany have all suffered large epidemics of COVID-19, but all appear to have now contained spread to the point that their epidemics are now clearly in decay.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="spain-r_t-and-incidence" class="section level3">
<h3>Spain: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-spain-1.png" width="576" data-figure-id=fig17 /></p>
<hr />
<p>Italy, Spain, France and Germany have all suffered large epidemics of COVID-19, but all appear to have now contained spread to the point that their epidemics are now clearly in decay.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="brazil-r_t-and-incidence" class="section level3">
<h3>Brazil: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-brazil-1.png" width="576" data-figure-id=fig18 /></p>
<hr />
<p>Incidence in Brazil lagged that in most northen hemisphere countries, but now appears to be in the exponential growth phase, with growth slowing only slowly.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="italy-r_t-and-incidence" class="section level3">
<h3>Italy: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-italy-1.png" width="576" data-figure-id=fig19 /></p>
<hr />
<p>Italy, Spain, France and Germany have all suffered large epidemics of COVID-19, but all appear to have now contained spread to the point that their epidemics are now clearly in decay.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="russia-r_t-and-incidence" class="section level3">
<h3>Russia: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-russia-1.png" width="576" data-figure-id=fig20 /></p>
<hr />
<p>Incidence in Russia was initially very low, possibly due to limited testing, but has since accelerted dramatically, particularly in Moscow, although social distancing and rigorous lock-down is now having an effect and incidence now appears to be declining.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="singapore-r_t-and-incidence" class="section level3">
<h3>Singapore: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-singapore-1.png" width="576" data-figure-id=fig21 /></p>
<hr />
<p>Singapore was initially a model of how to contain the virus, and has used advanced smartphone technologies to ensure rigorous case isolation and contact quarantining. Nonetheless, the eppidemic escaped control, and they have been struggling to bring it back under control since. The reasons for this late failure of control are important to study, as they hold valuable lessons for other countries (such study is beyond the scope of this website, for now).</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="sweden-r_t-and-incidence" class="section level3">
<h3>Sweden: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-sweden-1.png" width="576" data-figure-id=fig22 /></p>
<hr />
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="taiwan-r_t-and-incidence" class="section level3">
<h3>Taiwan: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-taiwan-1.png" width="576" data-figure-id=fig23 /></p>
<hr />
<p>Please see this <a href="https://www.smh.com.au/world/asia/population-the-same-as-australia-s-but-a-fraction-of-the-coronavirus-cases-20200412-p54j67.html">SMH article</a> for background on Taiwans comprehensive and model approach, one which other island states (including Australia, New Zealand and, effectively, South Korea) are seeking to emulate, or should be.</p>
<p>because Taiwan has so few cases, the estimates of <span class="math inline">\(R_{t}\)</span> are quite unstable, but it is has been a major success story.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="united-kingdom-r_t-and-incidence" class="section level3">
<h3>United Kingdom: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-uk-1.png" width="576" data-figure-id=fig24 /></p>
<hr />
<p>The UK was initially following a herd immunity approach, like Sweden, but changed strategy in response to a <a href="https://www.imperial.ac.uk/mrc-global-infectious-disease-analysis/covid-19/report-9-impact-of-npis-on-covid-19/">modelling report</a> released on 16 March by Imperial College London, perhaps just in time to avoid a complete catastrophe. However, Britain is still struggling to bring the epidemic under control, and it appears to have only recently left the growth phase.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
<div id="usa-r_t-and-incidence" class="section level3">
<h3>USA: <span class="math inline">\(R_{t}\)</span> and incidence</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="index_files/figure-html/this-is-usa-1.png" width="576" data-figure-id=fig25 /></p>
<hr />
<p>The world is aghast at the US reponse to COVID-19 and the results thereof. But they do appear to be slowly reducing transmission, mainly due to extremely rigorous social distancing measures in New York city and state, which is a centre of the epidemic. The recent opening of the economy in the US may yet have detrimental effects on control of COVID-19.</p>
<p>The estimates here use samples from a posterior distribution of <em>serial intervals</em> estimated from the data given by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al</em>.</a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
</div>
</div>
<div id="r_t-for-nsw" class="section level1 storyboard">
<h1><span class="math inline">\(R_{t}\)</span> for NSW</h1>
<div id="explanation-1" class="section level3">
<h3>Explanation</h3>
<p>The charts of the time-varying effective reproduction number <span class="math inline">\(R_{t}\)</span> for New South Wales COVID-19 incidence data are similar to the analyses presented in the previous section, with the important distinction that incidence cases have been able to be divided into locally-acquired cases and cases where the infection was acquired elsewhere (overseas or interstate). This permits much more accurate estimation of the true <span class="math inline">\(R_{t}\)</span>.</p>
<p>This has been enabled by the publication of more detailed data by NSW Health, available on the <a href="https://data.nsw.gov.au/nsw-covid-19-data">NSW government open data web site</a>, and updated daily, in conjunction with data derived by counting pixels in NSW Health charts to obtain earlier data (luckily the charts were high-resolution and thus the data extracted this way is very accurate).</p>
<p>In each of the frames in this section, estimates of the NSW effective reproduction number are shown, based on either a parametric <em>serial interval</em> distribution, or a <em>serial interval</em> distribution derived from data collated by <a href="https://www.ijidonline.com/article/S1201-9712(20)30119-3/pdf">Nishiura <em>et al.</em></a> using the method of <a href="https://doi.org/10.1016/j.epidem.2019.100356">Thompson <em>et al</em></a>.</p>
<p>Frames in which imported and locally-acquired cases are <strong>not</strong> distinguished in the estimates are also provided for comparison. These are much less likely to be correct than the estimates using split imported/locally-acquired counts.</p>
<p>In addition, frames in which the counts of cases in NSW have been inflated by a factor of 10 for local cases, and by 50% for imported cases, are also presented. This is a <em>sensitivity analysis</em> which mimics the situation in which there is considerable under-ascertainment of cases  that is, only 1 in 10 cases in the community are actually detected.</p>
<div id="technical-details" class="section level4">
<h4>Technical details</h4>
<p>Please see the paper by <a href="https://www.sciencedirect.com/science/article/pii/S1755436519300350">Thompson <em>et al</em>.</a> for details of the methods used here.</p>
</div>
</div>
<div id="nsw-locally-acquired-overseasinterstate-acquired-cases-treated-separately-cases-under-investigation-excluded-parametric-serial-interval-distribution" class="section level3">
<h3><strong>NSW  locally-acquired &amp; overseas/interstate-acquired cases treated separately</strong><br>(cases under investigation excluded)<br>parametric serial interval distribution</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-local-os-sep-1.png" width="960" data-figure-id=fig26 /></p>
<hr />
<p>Commentary</p>
</div>
<div id="nsw-locally-acquired-overseasinterstate-acquired-cases-treated-separately-cases-under-investigation-excluded-serial-interval-distribution-estimated-from-data" class="section level3">
<h3><strong>NSW  locally-acquired &amp; overseas/interstate-acquired cases treated separately</strong><br>(cases under investigation excluded)<br>serial interval distribution estimated from data</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-local-os-sep-est-si-dist-1.png" width="960" data-figure-id=fig27 /></p>
<hr />
<p>Commentary</p>
<hr />
</div>
<div id="nsw-adjusting-for-potential-under-ascertainment-locally-acquired-overseasinterstate-acquired-cases-treated-separately-cases-under-investigation-excluded-parametric-serial-interval-distribution" class="section level3">
<h3><strong>NSW  adjusting for potential under-ascertainment, locally-acquired &amp; overseas/interstate-acquired cases treated separately</strong>, (cases under investigation excluded), parametric serial interval distribution</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-adj-local-acquire-separately-1.png" width="960" data-figure-id=fig28 /></p>
<hr />
<p>In these plots, the counts of incident cases with presumed local sources of infection have been inflated by a factor of 10, and the counts of cases with presumed overseas or interstate sources of infection inflated by a factor of 1.5. This mimics ten-fold under-ascertainment of locally-transmitted cases, and 50% under-ascertainment of inbound cases.</p>
<hr />
</div>
<div id="nsw-adjusting-for-potential-under-ascertainment-locally-acquired-overseasinterstate-acquired-cases-treated-separately-cases-under-investigation-excluded-serial-interval-distribution-estimated-from-data" class="section level3">
<h3><strong>NSW  adjusting for potential under-ascertainment, locally-acquired &amp; overseas/interstate-acquired cases treated separately</strong>, (cases under investigation excluded), serial interval distribution estimated from data</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-adj-under-os-separately-1.png" width="960" data-figure-id=fig29 /></p>
<hr />
<p>In these plots, the counts of incident cases with presumed local sources of infection have been inflated by a factor of 10, and the counts of cases with presumed overseas or interstate sources of infection inflated by a factor of 1.5. This mimics ten-fold under-ascertainment of locally-transmitted cases, and 50% under-ascertainment of inbound cases.</p>
<p>In fact, so long as the rate of under-ascertainment does not change much over time, it has little effect on the effective reproduction number, which is driven by the number of cases each case infects, not the total number of cases or infectious individuals.</p>
<hr />
</div>
<div id="nsw-locally-acquired-overseasinterstate-acquired-cases-treated-separately-cases-under-investigation-included-parametric-serial-interval-distribution" class="section level3">
<h3><strong>NSW  locally-acquired &amp; overseas/interstate-acquired cases treated separately</strong><br>(cases under investigation included)<br>parametric serial interval distribution</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-local-os-separately-paramtric-1.png" width="960" data-figure-id=fig30 /></p>
<hr />
<p>Commentary</p>
<hr />
</div>
<div id="nsw-locally-acquired-overseasinterstate-acquired-cases-treated-separately-cases-under-investigation-included-serial-interval-distribution-estimated-from-data" class="section level3">
<h3><strong>NSW  locally-acquired &amp; overseas/interstate-acquired cases treated separately</strong><br>(cases under investigation included)<br>serial interval distribution estimated from data</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-local-os-sep-si-dist-data-1.png" width="960" data-figure-id=fig31 /></p>
<hr />
<p>Commentary</p>
<hr />
</div>
<div id="nsw-all-cases-treated-as-locally-acquired-parametric-serial-interval-distribution" class="section level3">
<h3><strong>NSW  all cases treated as locally-acquired</strong><br>parametric serial interval distribution</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-all-cases-locally-1.png" width="960" data-figure-id=fig32 /></p>
<hr />
<p>Commentary</p>
<hr />
</div>
<div id="nsw-all-cases-treated-as-locally-acquired-serial-interval-distribution-estimated-from-data" class="section level3">
<h3><strong>NSW  all cases treated as locally-acquired</strong><br>serial interval distribution estimated from data</h3>
<div class="knitr-options" data-fig-width="960" data-fig-height="960">

</div>
<p><img src="index_files/figure-html/nsw-all-cases-locally-si-est-data-1.png" width="960" data-figure-id=fig33 /></p>
<hr />
<p>Commentary</p>
<hr />
</div>
</div>
<div id="gifs" class="section level1 storyboard">
<h1>GIFs</h1>
<div id="please-stay-at-home-these-easter-holidays" class="section level3">
<h3>Please stay at home these Easter holidays</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="assets/stay_at_home.gif" width="576" data-figure-id=fig34 /></p>
<hr />
<p>This is a graphic created by Pavel Krivitsky (UNSW Maths and Stats) and Tim Churches (UNSW Medicine) to illustrate the importance of reduced social mixing, particularly over the Easter break in 2020. Further explanation and technical details can be found <a href="https://cbdrh.github.io/StayAtHome/">here</a>.</p>
</div>
<div id="flatten-this" class="section level3">
<h3>Flatten this!</h3>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<div class="knitr-options" data-fig-width="576" data-fig-height="460">

</div>
<p><img src="assets/flatten-this.gif" width="576" data-figure-id=fig34 /></p>
<hr />
<p>A tongue-in-cheek infographic motivated by the observation that, as at 18th April 2020, many people in particular demographics appear to have assumed that the whole COVID-19 thing is over in Australia, and that its party time</p>
</div>
<div id="bhatiaminute-physics-chart" class="section level3">
<h3>Bhatia/Minute Physics chart</h3>
<div class="knitr-options" data-fig-width="1152" data-fig-height="768">

</div>
<p><img src="assets/log-log-incidence.gif" width="1152" data-figure-id=fig34 /></p>
<hr />
<p>This plot replicates <a href="https://aatishb.com/covidtrends/">a chart</a> developed by <a href="https://aatishb.com">Aatish Bhatia</a> in collaboration with <a href="https://www.youtube.com/user/minutephysics">Minute Physics</a>. The plot shows, for each country, the number of incident (new) cases on the y-axis, on a logarithmic scale, versus the cumulative total of cases on the x-axis, also on a logarithmic scale. When plotted in this way, uncontrolled epidemics with exponential growth take a linear (straight line) trajectory at some angle. As an epidemic is brought under control, the trajectory drops below the straight line, eventually falling vertically if the epidemic has been completely extinguished.</p>
</div>
</div>
<div id="about-this-site" class="section level1">
<h1>About this site</h1>
<div id="column-1" class="section level2 tabset tabset-fade">
<h2>Column</h2>
<div id="contributors" class="section level3">
<h3>Contributors</h3>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />The content on this site is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. If you wish to re-use any of the content, please retain the attribution which appears on each chart or set of charts, or otherwise provide that attribution alongside the content that you re-use.</p>
<p>In turn, we acknowledge <a href="https://www.repidemicsconsortium.org/">RECON</a> for making their fantastic R packages available, and the <a href="https://www.ecdc.europa.eu/en">European Centre for Disease Control</a> who provide <a href="https://www.ecdc.europa.eu/en/publications-data/download-todays-data-geographic-distribution-covid-19-cases-worldwide">up to date data</a> on the COVID19 pandemic.</p>
<p>Project is initiated and led by <a href="https://timchurches.github.io/blog/about.html">Timothy Churches</a> (<a href="https://swscs.med.unsw.edu.au">South Western Sydney Clinical School</a> &amp; <a href="https://cbdrh.med.unsw.edu.au">UNSW Centre for Big Data Research in Health</a>, <a href="https://med.unsw.edu.au">UNSW Medicine</a>, and the <a href="https://inghaminstitute.org.au">Ingham Institute for Applied Medical Research</a>). <a href="https://www.njtierney.com/">Nicholas Tierney</a> (Monash University Econometrics and Business Statistics Research Group) is the co-lead, and has contributed much of the code and contributed to the documenation and commentary.</p>
<p>We also thank <a href="https://stuartlee.org/">Stuart Lee</a>, Elliot Zhu (<a href="https://cbdrh.med.unsw.edu.au">UNSW Centre for Big Data Research in Health</a>), <a href="http://dicook.org/">Dianne Cook</a>, <a href="https://github.com/MilesMcBain">Miles McBain</a>, and <a href="https://robjhyndman.com/">Rob Hyndman</a> for their helpful comments and contribution of R code (some of which is yet to appear).</p>
<p>Visualisations and analysis code are available in the <a href="https://github.com/CBDRH/covidrecon"><code>covidrecon</code> package</a>.</p>
<p>Source code for this web site is available at <a href="https://github.com/CBDRH/ozcoviz">covid-flexdashboard</a>.</p>
</div>
<div id="technical-details-1" class="section level3">
<h3>Technical Details</h3>
<p>Data Analysis has been entirely created within the <a href="https://cran.r-project.org/">R programming language</a> using <a href="https://rstudio.com/">Rstudio</a>.</p>
<p>Code for this web site can be found at <a href="https://github.com/CBDRH/ozcoviz">https://github.com/CBDRH/ozcoviz</a> and is archived via the <a href="https://zenodo.org/badge/latestdoi/250268999">DOI</a> shown below:</p>
<p><a href="https://zenodo.org/badge/latestdoi/250268999"><img src="https://zenodo.org/badge/250268999.svg" alt="DOI" /></a></p>
<p>This web site also uses code contained in the <code>covidrecon</code> package which can be found at <a href="https://github.com/CBDRH/covidrecon">https://github.com/CBDRH/covidrecon</a> and is archived via the <a href="https://zenodo.org/badge/latestdoi/248728805">DOI</a> shown below:</p>
<p><a href="https://zenodo.org/badge/latestdoi/248728805"><img src="https://zenodo.org/badge/248728805.svg" alt="DOI" /></a></p>
<p>Packages used include:</p>
<ul>
<li><a href="https://cran.r-project.org/web/packages/flexdashboard">flexdashboard</a></li>
<li><a href="https://cran.r-project.org/web/packages/tidyverse">tidyverse</a></li>
<li><a href="https://cran.r-project.org/web/packages/magrittr">magrittr</a></li>
<li><a href="https://cran.r-project.org/web/packages/countrycode">countrycode</a></li>
<li><a href="https://cran.r-project.org/web/packages/janitor">janitor</a></li>
<li><a href="https://cran.r-project.org/web/packages/scales">scales</a></li>
<li><a href="https://cran.r-project.org/web/packages/readxl">readxl</a></li>
<li><a href="https://cran.r-project.org/web/packages/httr">httr</a></li>
<li><a href="https://cran.r-project.org/web/packages/glue">glue</a></li>
<li><a href="https://cran.r-project.org/web/packages/EpiEstim">EpiEstim</a></li>
<li><a href="https://cran.r-project.org/web/packages/changepoint">changepoint</a></li>
<li><a href="https://cran.r-project.org/web/packages/ggrepel">ggrepel</a></li>
<li><a href="https://cran.r-project.org/web/packages/memoise">memoise</a></li>
<li><a href="https://cran.r-project.org/web/packages/patchwork">patchwork</a></li>
<li><a href="https://github.com/emitanaka/datalegreyar">datalegreyar</a></li>
<li><a href="https://cran.r-project.org/web/packages/">memoise</a></li>
</ul>
<hr />
</div>
</div>
</div>

</div>

<script>

$(document).ready(function () {

  // add bootstrap table styles to pandoc tables
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');

  // initialize mathjax
  var script = document.createElement("script");
  script.type = "text/javascript";
  script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
  document.getElementsByTagName("head")[0].appendChild(script);

});
</script>

<script type="text/javascript">
$(document).ready(function () {
  FlexDashboard.init({
    theme: "lumen",
    fillPage: true,
    orientation: "columns",
    storyboard: false,
    defaultFigWidth: 576,
    defaultFigHeight: 460,
    defaultFigWidthMobile: 360,
    defaultFigHeightMobile: 460
  });
});
</script>

</body>
</html>
